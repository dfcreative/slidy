<!doctype html>

<style>
	*{
		box-sizing: border-box;
	}
	body{
		font-family: sans-serif;
	}

	[slidy]{
		background: rgba(120,130,140,.5);
		min-width: 40px;
		min-height: 40px;
		margin-top: 10px;
		/*padding: 5px;*/
		margin-right: 50px;
	}
	[slidy] > .draggable{
		width: 20px;
		height: 20px;
		/*background: white;*/
		border-radius: 10px;
		box-shadow: inset 0 0 1px 1px rgba(240,250,255,.5), 0 0 1px 1px rgba(0,10,20,.25);
		position: relative;
	}
	#hue-lightness{
		height: 200px;
	}
	#alpha{
		float: right;
		height: 250px;
		margin-top: 0;
		margin-right: 0;
	}
</style>

<body style="background: hsla({{ hue }}, {{ saturation }}, {{ lightness }}, {{ alpha }})" data-bind>

	<h1>Simple three-component picker</h1>

	<div id="alpha" slidy vertical min="0" max="1" value="1" name="alpha"></div>

	<div id="saturation" slidy min="0" max="100" snap value="50" name="saturation" onchange=""></div>

	<div id="hue-lightness" slidy min="0,0" max="360,100" value="50,50" repeat="x" snap="both" name="hue,lightness"></div>


</body>


<script src='../src/util.js'></script>
<script src='../src/Component.js'></script>
<script src='../src/Draggable.js'></script>
<script src='../src/Slidy.js'></script>

<script>
	var $saturation = document.getElementById("saturation")
	var $hl = document.getElementById("hue-lightness")
	var $alpha = document.getElementById("alpha")

	var $body = document.body;

	//events
	$saturation.addEventListener('change', update)
	$hl.addEventListener('change', update)
	$alpha.addEventListener('change', update)

	//update
	function update(){
		var c = ['hsla(', $hl.value[0], ",",
							$saturation.value, "%,",
							$hl.value[1], "%,", $alpha.value, ")"].join("");
		//console.clear();
		//console.log(c)
		$body.style.background = c;
	}

	update();
</script>