{"version":3,"file":"slidy.js","sources":["../src/util.js","@traceur/generated/TemplateParser/1","../src/Component.js","@traceur/generated/TemplateParser/3","@traceur/generated/TemplateParser/2","@traceur/generated/TemplateParser/0","../src/Draggable.js","../src/Slidy.js"],"names":[],"mappings":"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","sourcesContent":["//#exclude\nvar pluginName = \"slidy\", jQuery, $\n//#endexclude\n//#put `var pluginName = {{ pluginName }}`\n\n//----------------Utils\nfunction extend(a){\n\tfor (var i = 1, l = arguments.length; i<l; i++){\n\t\tvar b = arguments[i];\n\t\tfor (var k in b){\n\t\t\ta[k] = b[k];\n\t\t}\n\t}\n\treturn a;\n}\n\n//Simple DOMs\n$ = $ || function(s){\n\tif (typeof s === \"string\") {\n\t\treturn document.querySelectorAll(s);\n\t}\n\treturn s;\n}\n\n//return absolute offsets\nfunction offsets(el){\n\tif (!el) throw new Error(\"No element passed\");\n\tvar c = {},\n\t\trect = el.getBoundingClientRect();\n\tc.top = rect.top + window.scrollY;\n\tc.left = rect.left + window.scrollX;\n\tc.width = el.offsetWidth;\n\tc.height = el.offsetHeight;\n\tc.bottom = c.top + c.height;\n\tc.right = c.left + c.width;\n\tc.fromRight = document.width - rect.right;\n\tc.fromBottom = (window.innerHeight + window.scrollY - rect.bottom)\n\treturn c;\n}\n\n//return paddings\nfunction paddings($el){\n\tvar box = {}, style = getComputedStyle($el);\n\n\tbox.top = parseCssValue(style.paddingTop)\n\tbox.left = parseCssValue(style.paddingLeft)\n\tbox.bottom = parseCssValue(style.paddingBottom)\n\tbox.right = parseCssValue(style.paddingRight)\n\n\treturn box;\n}\n\n//return margins\nfunction margins($el){\n\tvar box = {}, style = getComputedStyle($el);\n\n\tbox.top = parseCssValue(style.marginTop)\n\tbox.left = parseCssValue(style.marginLeft)\n\tbox.bottom = parseCssValue(style.marginBottom)\n\tbox.right = parseCssValue(style.marginRight)\n\n\treturn box;\n}\n\n//returns parsed css value\nfunction parseCssValue(str){\n\treturn ~~str.slice(0,-2);\n}\n\n/**\n* Simple event methods\n*/\n//Binds\nfunction on(el, evt, delegate, fn){\n\tif (jQuery){\n\t\t//delegate to jquery\n\t\tjQuery(el).on.apply(el, arguments);\n\t} else if (arguments.length === 3){\n\t\t//listen element\n\t\tel.addEventListener(evt, delegate)\n\t} else if (arguments.length === 4 && !delegate) {\n\t\tel.addEventListener(evt, fn)\n\t} else {\n\t\t//delegate listening\n\t\tel.addEventListener(evt, function(e){\n\t\t\t//TODO: if e.currentTarget is in the delegatees list - pass event\n\t\t}.bind(el))\n\t}\n\treturn el;\n}\nfunction off(el, evt, fn){\n\t//console.log(\"off\", arguments)\n\tif (jQuery){\n\t\t//delegate to jquery\n\t\tjQuery(el).off.apply(el, arguments);\n\t} else if (arguments.length === 3){\n\t\t//listen element\n\t\tel.removeEventListener(evt, fn)\n\t}\n\treturn el;\n}\n\n/**\n* Broadcasts event: \"slidy:evt\" → $doc, \"slidy:evt\" → $el, evt → area.opts\n* target - whether area or picker class\n*/\nfunction fire(el, eName, data){\n\t//TODO: handle jQuery-way, if there is such\n\t//TODO: pass data\n\t//TODO: ie’s work\n\t//TODO: options callbacks\n\t//TODO: call document specific call\n\tvar event = new CustomEvent(eName, {detail: data})\n\tif (this['on' + eName]) this['on' + eName].apply(this, data);\n\tif (jQuery){\n\t\t$(el).trigger(event, data);\n\t} else {\n\t\tel.dispatchEvent(event)\n\t}\n}\n\n//math limiter\nfunction between(a, min, max){\n\treturn Math.max(Math.min(a,max),min);\n}\n\n//math precision round\nfunction round(value, precision){\n\tif (precision === 0) return value;\n\n\treturn Math.round(value / precision) * precision\n}\n\n//returns value from string with correct type\n//TODO: write tests for this fn\nfunction parseAttr(str){\n\tif (str.indexOf(',') >= 0) return parseMultiAttr(str);\n\n\tif (str === \"true\" || str === \"\") {\n\t\treturn true;\n\t} else if (str === \"false\") {\n\t\treturn false;\n\t} else if (!isNaN(v = parseFloat(str))) {\n\t\treturn v;\n\t} else {\n\t\treturn str;\n\t}\n}\n\nfunction parseMultiAttr(str){\n\tvar parts = str.split(',');\n\tvar result = [];\n\tfor (var i = 0; i < parts.length; i++){\n\t\tresult.push(parseAttr(parts[i]))\n\t}\n\treturn result\n}\n\n//returns data object representing attributes read\nvar defaultAttrs = {'class': true, 'id': true, 'style': true};\nfunction parseAttributes(el){\n\tvar attrs = el.attributes,\n\t\tdata = {};\n\n\tfor (var i = 0; i < attrs.length; i++){\n\t\tvar attr = attrs[i]\n\t\tif (attr.name.slice(0,2) === \"on\") {\n\t\t\t//declared evt - create anonymous fn\n\t\t\tdata[attr.name] = new Function(attr.value);\n\t\t} else if (!defaultAttrs[attr.name]) {\n\t\t\tdata[attr.name] = parseAttr(attr.value)\n\t\t}\n\t}\n\n\treturn data;\n}\n\n//stringify any element passed, useful for attribute setting\nfunction stringify(el){\n\tif (typeof el === \"function\"){\n\t\t//return function body\n\t\tvar src = el.toString();\n\t\tel.slice(src.indexOf(\"{\") + 1, src.lastIndexOf(\"}\"));\n\t} else if (el instanceof HTMLElement){\n\t\t//return id/name/proper selector\n\t\treturn selector(el)\n\t} else if (el instanceof Array){\n\t\t//return comma-separated array\n\t\treturn el.join(\",\")\n\t} else if (el instanceof Object){\n\t\t//serialize json\n\t\treturn el.toString();\n\t} else {\n\t\treturn el.toString();\n\t}\n}\n\n//returns unique selector for an element\n//stolen from https://github.com/rishihahs/domtalk/blob/master/index.js\nfunction selector(element) {\n\t// Top level elements are body and ones with an id\n\tif (element === document.documentElement) {\n\t\treturn ':root';\n\t} else if (element.tagName && element.tagName.toUpperCase() === 'BODY') {\n\t\treturn 'body';\n\t} else if (element.id) {\n\t\treturn '#' + element.id;\n\t}\n\n\tvar parent = element.parentNode;\n\tvar parentLoc = selector(parent);\n\n\t// See which index we are in parent. Array#indexOf could also be used here\n\tvar children = parent.childNodes;\n\tvar index = 0;\n\tfor (var i = 0; i < children.length; i++) {\n\t\t// nodeType is 1 if ELEMENT_NODE\n\t\tif (children[i].nodeType === 1) {\n\t\t\tif (children[i] === element) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tindex++;\n\t\t}\n\t}\n\n\treturn parentLoc + ' *:nth-child(' + (index + 1) + ')';\n}\n\n//stupid prefix detector\nfunction detectCSSPrefix(){\n\tvar puppet = document.documentElement;\n\tvar style = document.defaultView.getComputedStyle(puppet, \"\");\n\tif (style.transform) return \"\";\n\tif (style[\"-webkit-transform\"]) return \"-webkit-\";\n\tif (style[\"-moz-transform\"]) return \"-moz-\";\n\tif (style[\"-o-transform\"]) return \"-o-\";\n\tif (style[\"-khtml-transform\"]) return \"-khtml-\";\n\treturn \"\";\n}\nvar cssPrefix = detectCSSPrefix();\n\n\n\n//TODO\n//bind element’s representation to component data\nfunction observeData(target, data){\n\t//keyed by param name listeners\n\tvar listeners = {},\n\t\tpropRe = /\\{\\{\\s([a-zA-Z_$][a-zA-Z_$0-9]*)\\s\\}\\}/;\n\n\t//TODO: catch every property met, replace with default value\n\n\t//TODO: gather attributes\n\tfor (var i = 0; i < target.attributes.length; i++){\n\t\tvar attrValue = target.attributes[i].value;\n\t\tvar propIdx = undefined;\n\n\t\t//grasp every value met\n\t\twhile ((propIdx = attrValue.indexOf(\"{{\")) >= 0){\n\t\t\tvar closeIdx = attrValue.indexOf(\"}}\");\n\t\t\tvar propName = attrValue.slice(propIdx + 2, closeIdx).trim();\n\n\t\t\t//set default value\n\t\t\ttarget.attributes[i].value = [\n\t\t\t\ttarget.attributes[i].value.slice(0, propIdx),\n\t\t\t\tdata[propName],\n\t\t\t\ttarget.attributes[i].value.slice(closeIdx, attrValue.length - 1)\n\t\t\t].join('');\n\n\t\t\tif (!listeners[propName]) listeners[propName] = [];\n\t\t\tlisteners[propName].push({\n\t\t\t\t//object where to make substitution\n\t\t\t\ttarget: target.attributes[i],\n\t\t\t\t//template which to use as basis for substisution\n\t\t\t\ttemplate: attrValue,\n\t\t\t\tdata: {\n\t\t\t\t\t//TODO: save all harvested properties here\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\n\t//TODO: gather text children\n\tvar children = target.childNodes,\n\t\tl = children.length;\n\n\tfor (var i = 0; i < l; i++){\n\t\tvar child = children(i);\n\t\tif (child.nodeType === 1){\n\t\t\tif (propRe.test(child.texContent)){\n\t\t\t\t//split text node in place of property\n\t\t\t\tlisteners.push({\n\t\t\t\t\ttarget: child,\n\t\t\t\t\ttemplate: target.texContent\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\t//TODO: track elements children\n\n\t//TODO: listen to the source change\n\tfor (var prop in listeners){\n\t\tvar listener = listeners[prop];\n\t\tdocument.addEventListener(prop + \"Changed\", function(e){\n\t\t\tvar value = e.target.value;\n\t\t\t//NOTE: once data-names've been replaced with values, you can’t no more track them\n\t\t\tfor (var i = 0; i < target.attributes.length; i++){\n\t\t\t\tvar attrName = target.attributes[i].name.replace();\n\t\t\t\tvar attrValue = target.attributes[i].value.replace();\n\t\t\t\tif (re.test(attrName)){\n\n\t\t\t\t}\n\t\t\t}\n\t\t\t//update attrs\n\t\t\t//update content\n\t\t})\n\t}\n\n\t//TODO: bind slider’s named properties to the document’s scope (publish them)\n}\n\n//finds the index of next one property\nfunction findPropertyToInsert(str){\n\tstr.indexOf()\n}","var $__placeholder__0 = $__placeholder__1","/**\r\n* Controller on the elements\r\n* Very similar to native elements\r\n*/\r\n\r\n//TODO: add document-level listener pluginName:event\r\n//TODO: think how should it work within components group, like active tab\r\nclass Component extends HTMLElement {\r\n\r\n\t//TODO: state criterias (visible/hidden) (active/inactive) (disabled/enabled) ...\r\n\t//TODO: state callbacks & declarative behaviour\r\n\t//TODO: adding states, declaratively\r\n\t//TODO: changing states through methods\r\n\r\n\t/**\r\n\t* Uses hack to extend native HTMLElement: swizzles element’s __proto__\r\n\t* It’s the only place where `this` isn’t actually an element.\r\n\t* All other methods use `this` as element reference\r\n\t*/\r\n\tconstructor (el, opts){\r\n\t\t//ensure element created\r\n\t\t//ensure DOM extensibility\r\n\t\t//read options (el/passed)\r\n\t\t//hook up events\r\n\t\t//bind API methods\r\n\t\t//init instance states\r\n\r\n\t\t//Substitute `this` with DOM element\r\n\t\t//TODO: get rid of that hack when native `extends HTMLElement` will work\r\n\t\tvar self;\r\n\t\tif (el instanceof HTMLElement) {\r\n\t\t\tself = el;\r\n\t\t} else {\r\n\t\t\tif (el){\r\n\t\t\t\topts = el;\r\n\t\t\t}\r\n\t\t\tself = document.createElement('div');\r\n\t\t}\r\n\r\n\t\t//TODO: resolve prototype chain, if there’re more Component-ancestored elements\r\n\t\t//Intrude into el's prototype chain\r\n\t\t//save original element’s prototype, like HTMLDivElement or whatever\r\n\t\tvar originalProto = self.__proto__;\r\n\t\t//`this` loses here\r\n\t\tself.__proto__ = this.constructor.prototype;\r\n\r\n\t\t//init API\r\n\t\tself.initAPI.call(self)\r\n\r\n\t\t//init options\r\n\t\tself.initOptions.call(self, opts);\r\n\r\n\t\t//keep track of instances;\r\n\t\tself._id = this.constructor.instances.length;\r\n\t\tthis.constructor.instances.push(self);\r\n\r\n\t\t//init state\r\n\t\tself.initStates.apply(self);\r\n\t\tself.state = 'default';\r\n\r\n\t\t//treat element\r\n\t\tself.classList.add(this.constructor.lname);\r\n\r\n\t\tself.fire(\"create\")\r\n\t\t//console.log(self.getBoundingClientRect())\r\n\t\t//console.log(\"HTMLCustomElement constructor\")\r\n\t\treturn self;\r\n\t}\r\n\r\n\t//simply binds methods to instance\r\n\tinitAPI(){\r\n\t\tfor (var meth in this){\r\n\t\t\tif (typeof this[meth] === \"function\")\r\n\t\t\t\tthis[meth] = this[meth].bind(this);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t//--------------Options\r\n\t//TODO: hook up getters and setters for options, to reflect instantly element-write\r\n\t//TODO: hook up attributeChanged listeners, to reflect values of attributes\r\n\t//TODO: keep callbacks\r\n\tinitOptions(extOpts){\r\n\t\t//read dataset attributes\r\n\t\textOpts = extend(parseAttributes(this), extOpts);\r\n\r\n\t\t//for every instance option create attribute reflection (just set value)\r\n\t\tfor (var key in extOpts){\r\n\t\t\tthis[key] = extOpts[key];\r\n\t\t}\r\n\r\n\t\t//register observers for data-attributes\r\n\t\tthis._observer = new MutationObserver(function(mutations) {\r\n\t\t\tif (this._preventOneAttrChange){\r\n\t\t\t\tthis._preventOneAttrChange = true;\r\n\t\t\t\treturn //console.log(\"attr change prevented\");\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < mutations.length; i++){\r\n\t\t\t\tvar mutation = mutations[i];\r\n\t\t\t\tif (mutation.type === \"attributes\"){\r\n\t\t\t\t\tvar attr = mutation.attributeName;\r\n\t\t\t\t\t//if option attr changed - upd self value\r\n\t\t\t\t\tif (this.constructor.defaults[attr]){\r\n\t\t\t\t\t\t//TODO: catch attribute removal\r\n\t\t\t\t\t\t//TODO: avoid attr self-setup\r\n\t\t\t\t\t\tconsole.log(\"Attribute externally changed\", parseAttr(this.getAttribute(attr)))\r\n\t\t\t\t\t\tthis[\"_\" + attr] = parseAttr(this.getAttribute(attr));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}.bind(this));\r\n\t\tthis._observeConfig = {\r\n\t\t\tattributes: true\r\n\t\t}\r\n\t\tthis.observeAttrChange();\r\n\t}\r\n\r\n\t/**\r\n\t* Gross attributes setter\r\n\t*/\r\n\tsetAttributes(opts){\r\n\t\tfor (var key in opts){\r\n\t\t\tthis[key] = opts[key]\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t* Get object settings\r\n\t*/\r\n\tgetAttributes(){\r\n\t\tvar result = {}\r\n\t\tfor (var key in this.defaults){\r\n\t\t\tresult[key] = this[key];\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\r\n\r\n\t//-----------------States\r\n\tget state(){\r\n\t\treturn this._state;\r\n\t}\r\n\tset state(newStateName){\r\n\t\tvar oldState = this.states[this._state];\r\n\t\tvar newState = this.states[newStateName] || this.states['default'];\r\n\t\tif (!newState) throw new Error(\"Not existing state `\" + newStateName + \"`\");\r\n\r\n\t\t//console.log(\"Change state from `\" + this._state + \"` to `\" + newStateName + \"`\")\r\n\r\n\t\t//handle exit\r\n\t\tif (oldState) {\r\n\t\t\t//trigger exit\r\n\t\t\toldState.after && oldState.after.fn.call(this);\r\n\t\t\tthis.fire(\"after\" + this._state[0].toUpperCase() + this._state.slice(1) + \"State\");\r\n\t\t\tthis.fire(\"afterState\");\r\n\r\n\t\t\t//unbind old state events\r\n\t\t\tfor(var evt in oldState){\r\n\t\t\t\tvar stateEvt = oldState[evt]\r\n\t\t\t\toff(\r\n\t\t\t\t\tstateEvt.src,\r\n\t\t\t\t\tstateEvt.evt,\r\n\t\t\t\t\tstateEvt.fn\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//handle enter\r\n\t\t//trigger enter\r\n\t\tnewState.before && newState.before.fn.call(this);\r\n\t\tthis.fire(\"before\" + newStateName[0].toUpperCase() + newStateName.slice(1) + \"State\");\r\n\t\tthis.fire(\"beforeState\");\r\n\r\n\t\t//bind new state events\r\n\t\tfor(var evt in newState){\r\n\t\t\tvar stateEvt = newState[evt]\r\n\t\t\ton(\r\n\t\t\t\tstateEvt.src,\r\n\t\t\t\tstateEvt.evt,\r\n\t\t\t\tstateEvt.delegate,\r\n\t\t\t\tstateEvt.fn\r\n\t\t\t);\r\n\r\n\t\t\t//console.log(stateEvt)\r\n\t\t}\r\n\r\n\t\tthis._state = newStateName;\r\n\t}\r\n\r\n\t/**\r\n\t* Instance states initilizer\r\n\t* Binds functions, recognizes objects to call\r\n\t* States parsed to object like\r\n\t* { state: { event: [src, delegate, fn], event: [src, delegate, fn], ... } }\r\n\t*/\r\n\tinitStates(states){\r\n\t\tvar protoStates = this.constructor.states;\r\n\t\tthis.states = {};\r\n\r\n\t\tfor (var stateName in protoStates){\r\n\t\t\t//create instance state based on proto states\r\n\t\t\tvar protoState = protoStates[stateName],\r\n\t\t\t\tinstanceState = {};\r\n\r\n\t\t\t//recognize events strings: src, evt, delegate\r\n\t\t\t//possible evt id:\r\n\t\t\t//`on('[document|window]? super:event .something > .which > is > #listening', fn)`\r\n\t\t\t//console.log(\"bind state\", stateName , protoState)\r\n\t\t\tfor (var evtId in protoState){\r\n\t\t\t\t//bind fn\r\n\t\t\t\tvar fnRef = protoState[evtId], fn = undefined;\r\n\t\t\t\tif (typeof fnRef === \"function\"){\r\n\t\t\t\t\tfn = fnRef.bind(this);\r\n\t\t\t\t} else if (typeof fnRef === \"string\" && this[fnRef]){\r\n\t\t\t\t\t//NOTE: no need to bind `fn` here because it’s already been bound in `initAPI`\r\n\t\t\t\t\tfn = this[fnRef]//.bind(this);\r\n\t\t\t\t\t//console.log(evt, fnRef, fn)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar evtDirectives = evtId.split(',');\r\n\t\t\t\tfor (var i = 0; i < evtDirectives.length; i++){\r\n\t\t\t\t\tvar evtDirective = evtDirectives[i].trim();\r\n\t\t\t\t\tvar evt = undefined, src = undefined, delegate = undefined;\r\n\r\n\t\t\t\t\tvar evtParams = evtDirective.split(\" \");\r\n\r\n\t\t\t\t\t//detect source\r\n\t\t\t\t\tif (evtParams[0] === 'document'){\r\n\t\t\t\t\t\tsrc = document;\r\n\t\t\t\t\t\tevtParams = evtParams.slice(1);\r\n\t\t\t\t\t} else if (evtParams[0] === 'window'){\r\n\t\t\t\t\t\tsrc = window\r\n\t\t\t\t\t\tevtParams = evtParams.slice(1);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsrc = this;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//detect evt name\r\n\t\t\t\t\tevt = evtParams[0];\r\n\r\n\t\t\t\t\t//is there delegatees?\r\n\t\t\t\t\tdelegate = evtParams.slice(1).join('');\r\n\r\n\t\t\t\t\t//collect class instance state\r\n\t\t\t\t\tif (fn && evt){\r\n\t\t\t\t\t\tinstanceState[evt] = {\r\n\t\t\t\t\t\t\tevt: evt,\r\n\t\t\t\t\t\t\tsrc: src,\r\n\t\t\t\t\t\t\tdelegate: delegate,\r\n\t\t\t\t\t\t\tfn: fn\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//console.log(\"state\", instanceState)\r\n\t\t\tthis.states[stateName] = instanceState;\r\n\r\n\r\n\t\t}\r\n\t\t//console.log(\"States\", this.states)\r\n\t}\r\n\r\n\r\n\r\n\t/**\r\n\t* Common component behaviour - enabled/disabled\r\n\t*/\r\n\tdisable(){\r\n\t\tthis.disabled = true;\r\n\t\tthis.ignoreAttrChange();\r\n\t\tthis.fire('disable');\r\n\t}\r\n\tenable(){\r\n\t\tthis.disabled = false;\r\n\t\tthis.observeAttrChange();\r\n\t\tthis.fire('enable');\r\n\t}\r\n\r\n\t//attributes listeners\r\n\tobserveAttrChange(){\r\n\t\tthis._observer.observe(this, this._observeConfig)\r\n\t}\r\n\r\n\tignoreAttrChange(){\r\n\t\tthis._observer.disconnect();\r\n\t}\r\n\r\n\t//correct attribute setter - reflects value changed with throttling\r\n\tupdateAttr(key, value){\r\n\t\t//TODO: throttle attr reflection\r\n\t\tif (!this._reflectAttrTimeout){\r\n\t\t\t//TODO: move this somewere to the beginning\r\n\t\t\tvar prefix = Component.safeAttributes ? \"data-\" : \"\";\r\n\r\n\t\t\t//hide falsy attributes\r\n\t\t\tif (value === false){\r\n\t\t\t\tthis.removeAttribute(key);\r\n\t\t\t} else {\r\n\t\t\t\t//avoid self attr-observer catch this attr changing\r\n\t\t\t\tthis._preventOneAttrChange = true;\r\n\t\t\t\tthis.setAttribute(prefix + key, stringify(value));\r\n\t\t\t}\r\n\r\n\t\t\tthis._reflectAttrTimeout = setTimeout(function(){\r\n\t\t\t\tclearTimeout(this._reflectAttrTimeout);\r\n\t\t\t\tthis._reflectAttrTimeout = null;\r\n\r\n\t\t\t}, 500);\r\n\t\t}\r\n\t}\r\n\t//TODO: these guys cause stack overflow because try to set themselves\r\n\t/*set disabled(val){\r\n\t\tif (val) {\r\n\t\t\tthis.setAttribute(\"disabled\", true);\r\n\t\t\tthis.disabled = true;\r\n\t\t} else {\r\n\t\t\tthis.removeAttribute(\"disabled\")\r\n\t\t\tthis.disabled = false;\r\n\t\t}\r\n\t}\r\n\tget disabled(){\r\n\t\treturn this.disabled;\r\n\t}*/\r\n\r\n\t/**\r\n\t* Utils\r\n\t*/\r\n\tpreventDefault(e){\r\n\t\te.preventDefault()\r\n\t}\r\n\r\n\r\n\t//----------------------Events\r\n\t//as jquery one does\r\n\taddOnceListener(evt, fn){\r\n\t\tthis.addEventListener(evt, function(){\r\n\t\t\tfn.apply(this);\r\n\t\t\tthis.removeEventListener(evt, fn)\r\n\t\t}.bind(this))\r\n\t}\r\n\r\n\t//TODO: handle `:delegate` listener event, as x-tags does\r\n\t//listener wrapper, just makes chaining\r\n\taddEventListener(evt, fn){\r\n\t\tsuper.addEventListener(evt, fn);\r\n\t\treturn this;\r\n\t}\r\n\r\n\t//as jquery delegate does\r\n\tdelegateListener(evt, delegate, fn){\r\n\t\tif (typeof delegate === 'string'){\r\n\t\t\tdelegate = this.querySelectorAll(delegate)\r\n\t\t} else if (delegate instanceof Element){\r\n\t\t\tdelegate = [delegate]\r\n\t\t} else if (delegate instanceof NodeList || delegate instanceof Array) {\r\n\r\n\t\t} else {\r\n\t\t\tdelegate = [this];\r\n\t\t}\r\n\r\n\t\tthis.addEventListener(evt, function(e){\r\n\t\t\tif (delegate.indexOf(e.currentTarget) >= 0) {\r\n\t\t\t\tfn.call(this, e);\r\n\t\t\t}\r\n\t\t}.bind(this))\r\n\t}\r\n\r\n\t//broadcaster\r\n\tfire(eName, data){\r\n\t\tfire(this, eName, data);\r\n\t}\r\n\r\n\r\n\t//autoinit found instances in DOM\r\n\tautoinit(){\r\n\t\tvar lname =  this.constructor.lname,\r\n\t\t\tselector = [\"[\", lname, \"], [data-\", lname, \"], .\", lname, \"\"].join(\"\");\r\n\r\n\t\tvar targets = document.querySelectorAll(selector);\r\n\t\tfor (var i = 0; i < targets.length; i++){\r\n\t\t\tnew this.constructor(targets[i]);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n* Component registerer.\r\n* Creates component based of constructor passed: inits it’s prototype, etc\r\n* register descedant, make it autoload, call additional init (custom feature-detection etc)\r\n*/\r\nComponent.register = function(constructor){\r\n\t//check whether component exists\r\n\tif (Component.registry[constructor.name]) throw new Error(\"Component `\" + Component.name + \"` does already exist\");\r\n\r\n\t//save to registry\r\n\tComponent.registry[constructor.name] = constructor;\r\n\r\n\t//keep track of instances\r\n\tconstructor.instances = [];\r\n\tconstructor.lname = constructor.name.toLowerCase();\r\n\r\n\t//init default options as prototype getters/setters with trigger\r\n\tvar propsDescriptor = {};\r\n\tfor (var key in constructor.defaults){\r\n\t\t//assign defaults - prototypical properties\r\n\t\t//NOTE: default values may be of other type than required, like number insteadof array\r\n\t\tconstructor.prototype[\"_\" + key] = constructor.defaults[key];\r\n\r\n\t\t//ignore already defined setter/getter\r\n\t\tif (Object.getOwnPropertyDescriptor(constructor.prototype,key)) continue;\r\n\r\n\t\t//make instance getter/setters\r\n\t\tvar get = (function(key){\r\n\t\t\treturn function(){\r\n\t\t\t\treturn this['_' + key]\r\n\t\t\t}\r\n\t\t})(key)\r\n\r\n\t\tvar set = (function(key){\r\n\t\t\treturn function(value){\r\n\t\t\t\t//ignore same value\r\n\t\t\t\tif (this['_' + key ] === value) return;\r\n\r\n\t\t\t\tthis['_' + key ] = value;\r\n\t\t\t\tthis.updateAttr(key, value);\r\n\t\t\t\tthis.fire(\"optionChanged\")\r\n\t\t\t\tthis.fire(value + \"Changed\")\r\n\t\t\t}\r\n\t\t})(key)\r\n\r\n\t\tpropsDescriptor[key] = {\r\n\t\t\t//do not delete default properties\r\n\t\t\tconfigurable: false,\r\n\t\t\t//do not enumerate non-instance properties\r\n\t\t\tenumerable: false,\r\n\t\t\tget: get,\r\n\t\t\tset: set\r\n\t\t}\r\n\t}\r\n\t//console.log(propsDescriptor)\r\n\tObject.defineProperties(constructor.prototype, propsDescriptor);\r\n\r\n\t//Autoinit DOM elements\r\n\tconstructor.prototype.autoinit();\r\n}\r\n\r\n//Keyed by name set of components\r\nComponent.registry = {}\r\n\r\n\r\n//Component constructor, just to use as a fabric method\r\nComponent.create = function(el, opts){\r\n\treturn new this.constructor(el, opts)\r\n}\r\n\r\n\r\n\r\n//Autolaunch registered components when document is ready\r\n//TODO: probably it is better to init components before Ready - values, at least, should be there beforehead\r\n/*document.addEventListener(\"DOMContentLoaded\", function(){\r\n\tfor (var name in Component.registry){\r\n\t\tvar Descendant = Component.registry[name];\r\n\r\n\t\tvar lname = Descendant.lname,\r\n\t\t\tselector = [\"[\", lname, \"], [data-\", lname, \"], .\", lname, \"\"].join(\"\");\r\n\r\n\t\t//init all elements in DOM\r\n\t\tvar targets = document.querySelectorAll(selector);\r\n\t\tfor (var i = 0; i < targets.length; i++){\r\n\t\t\tnew Descendant(targets[i]);\r\n\t\t}\r\n\t}\r\n})*/\r\n//init every element [classname], [data-classname] or .classname\r\n\r\n\r\n\r\n//----------Init generic component behaviour\r\n\r\n//whether to use data-attributes instead of straight ones, which may be invalid\r\nComponent.safeAttributes = Component.safeAttributes || false;\r\n\r\n//whether to init components on\r\nComponent.autoinit = Component.autoinit || true;\r\n\r\n//Whether to expose descendant classes to global\r\nComponent.exposeClasses = Component.exposeClasses || true;","var $__placeholder__0 = $__placeholder__1","($traceurRuntime.createClass)($__placeholder__0, $__placeholder__1, $__placeholder__2,\n                                       $__placeholder__3)","$traceurRuntime.superCall($__placeholder__0,\n                                                      $__placeholder__1,\n                                                      $__placeholder__2,\n                                                      $__placeholder__3)","class Draggable extends Component {\r\n\tconstructor(el, opts){\r\n\t\tvar self = super(el, opts);\r\n\r\n\t\t//init position\r\n\t\tself._x = 0;\r\n\t\tself._y = 0;\r\n\r\n\t\t//handle CSSs\r\n\t\tself.style[cssPrefix + \"user-select\"] = \"none\";\r\n\t\tself.style[cssPrefix + \"user-drag\"] = \"none\";\r\n\r\n\t\t//set restricting area\r\n\t\tif (self.within){\r\n\t\t\tif (self.within instanceof Element){\r\n\t\t\t\tself.$within = self.within\r\n\t\t\t} else if (typeof self.within === \"string\"){\r\n\t\t\t\tif (self.within === \"parent\")\r\n\t\t\t\t\tself.$within = self.parentNode;\r\n\t\t\t\telse\r\n\t\t\t\t\tself.$within = $(self.within)[0];\r\n\t\t\t} else {\r\n\t\t\t\tself.$within = null\r\n\t\t\t}\r\n\t\t\t//TODO: catch shitty elements (non-elements)\r\n\t\t}\r\n\r\n\t\t//init empty limits\r\n\t\tself.limits = {};\r\n\r\n\t\t//go native\r\n\t\tif (self.native) {\r\n\t\t\tself.state = \"native\";\r\n\t\t}\r\n\r\n\t\treturn self;\r\n\t}\r\n\r\n\t//-------------------API (verbs)\r\n\tstartDrag(e){\r\n\t\t//define limits\r\n\t\tthis.getLimits();\r\n\r\n\t\t//init dragstate\r\n\t\tthis.dragstate = {\r\n\t\t\t//viewport offset\r\n\t\t\tclientX: e.clientX,\r\n\t\t\tclientY: e.clientY,\r\n\r\n\t\t\t//offset within self\r\n\t\t\toffsetX: e.offsetX,\r\n\t\t\toffsetY: e.offsetY,\r\n\r\n\t\t\t//relative coords\r\n\t\t\tx: e.clientX + window.scrollX - this.oX,\r\n\t\t\ty: e.clientY + window.scrollY - this.oY\r\n\t\t};\r\n\t}\r\n\r\n\tdrag(e) {\r\n\t\t//console.log(\"drag\", e)\r\n\r\n\t\tvar d = this.dragstate;\r\n\r\n\t\t//var difX = e.clientX - d.clientX;\r\n\t\t//var difY = e.clientY - d.clientY;\r\n\r\n\t\t//capture dragstate\r\n\t\td.isCtrl = e.ctrlKey;\r\n\t\tif (e.ctrlKey && this.sniper) {\r\n\t\t\t//d.difX *= this.options.sniperSpeed;\r\n\t\t\t//d.difY *= this.options.sniperSpeed;\r\n\t\t}\r\n\t\td.clientX = e.clientX;\r\n\t\td.clientY = e.clientY;\r\n\t\td.x = e.clientX + window.scrollX - this.oX;\r\n\t\td.y = e.clientY + window.scrollY - this.oY;\r\n\r\n\t\t//move according to dragstate\r\n\t\tthis.move(d);\r\n\t}\r\n\r\n\tstopDrag(e){\r\n\t\t//console.log(\"stopDrag\")\r\n\t\tdelete this.dragstate;\r\n\t}\r\n\r\n\t//specific movement function based on dragstate passed\r\n\t//takes into accont mouse coords, self coords, axis limits and displacement within\r\n\t//TODO: name this more intuitively, because move supposes (x, y)\r\n\tmove(d){\r\n\t\tif (!this.axis || this.axis === \"x\"){\r\n\t\t\tthis.x = round(between(d.x - d.offsetX,\r\n\t\t\t\t\t\tthis.limits.left,\r\n\t\t\t\t\t\tthis.limits.right), this.precision);\r\n\t\t}\r\n\r\n\t\tif (!this.axis || this.axis === \"y\" ){\r\n\t\t\tthis.y = round(between(d.y - d.offsetY,\r\n\t\t\t\t\t\tthis.limits.top,\r\n\t\t\t\t\t\tthis.limits.bottom), this.precision);\r\n\t\t}\r\n\t}\r\n\r\n\t//updates limits state\r\n\tgetLimits(){\r\n\t\t//it is here because not always element is in DOM when constructor inits\r\n\t\tvar limOffsets = offsets(this.$within);\r\n\r\n\t\tthis.offsets = offsets(this);\r\n\t\tvar selfPads = paddings(this.$within);\r\n\r\n\t\t//save relative coord system offsets\r\n\t\tthis.oX = this.offsets.left - this.x;\r\n\t\tthis.oY = this.offsets.top - this.y;\r\n\r\n\t\t//element movement relative borders\r\n\t\t//TODO: make limits accesible before appending to the DOM\r\n\t\tthis.limits.top = limOffsets.top - this.oY + selfPads.top;\r\n\t\tthis.limits.bottom = limOffsets.bottom - this.oY - this.offsets.height - selfPads.bottom;\r\n\t\tthis.limits.left = limOffsets.left - this.oX + selfPads.left;\r\n\t\tthis.limits.right = limOffsets.right - this.oX - this.offsets.width - selfPads.right;\r\n\r\n\t}\r\n\r\n\t//relative coords\r\n\tget x(){\r\n\t\treturn this._x\r\n\t}\r\n\tset x(x){\r\n\t\tthis._x = x;\r\n\t\tthis.style[cssPrefix + \"transform\"] = [\"translate3d(\", this._x, \"px,\", this._y, \"px, 0)\"].join(\"\");\r\n\t}\r\n\tget y(){\r\n\t\treturn this._y\r\n\t}\r\n\tset y(y){\r\n\t\tthis._y = y;\r\n\t\tthis.style[cssPrefix + \"transform\"] = [\"translate3d(\", this._x, \"px,\", this._y, \"px, 0)\"].join(\"\");\r\n\t}\r\n\r\n\t//native-drag helper\r\n\tsetDropEffect(e){\r\n\t\te.preventDefault()\r\n\t\te.dataTransfer.dropEffect = \"move\"\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\n\r\n//--------------------------States\r\n//every state is a set of events to bind to API\r\nDraggable.states = {\r\n\t//non-native drag\r\n\t'default': {\r\n\t\tbefore: null,\r\n\t\tafter: null,\r\n\r\n\t\tmousedown: function(e){\r\n\t\t\tthis.startDrag(e);\r\n\t\t\tthis.fire('dragstart')\r\n\t\t\tthis.state = \"drag\";\r\n\t\t}\r\n\t},\r\n\tdrag: {\r\n\t\t'document selectstart': 'preventDefault',\r\n\t\t'document mousemove': function(e){\r\n\t\t\tthis.drag(e)\r\n\t\t\tthis.fire('drag')\r\n\t\t},\r\n\t\t'document mouseup, document mouseleave': function(e){\r\n\t\t\tthis.stopDrag(e);\r\n\t\t\tthis.state = \"default\"\r\n\t\t}\r\n\t},\r\n\tscroll: {\r\n\r\n\t},\r\n\ttech: {\r\n\r\n\t},\r\n\tout: {\r\n\r\n\t},\r\n\r\n\t//native drag\r\n\tnative: {\r\n\t\tbefore: function(){\r\n\t\t\t//hang proper styles\r\n\t\t\tthis.style[cssPrefix + \"user-drag\"] = \"element\";\r\n\t\t\tthis.style.cursor = \"pointer!important\";\r\n\r\n\t\t\t//make restricting area allowable to drop\r\n\t\t\ton(this.$within, 'dragover', this.setDropEffect)\r\n\t\t},\r\n\t\tafter: function(){\r\n\t\t\tthis.style[cssPrefix + \"user-drag\"] = \"none\";\r\n\t\t\toff(this.$within, 'dragover', this.setDropEffect)\r\n\t\t},\r\n\r\n\t\tdragstart:  function(e){\r\n\t\t\tthis.startDrag(e);\r\n\t\t\te.dataTransfer.effectAllowed = 'all';\r\n\r\n\t\t\t//hook drag image stub (native image is invisible)\r\n\t\t\tthis.$dragImageStub = document.createElement('div');\r\n\t\t\tthis.parentNode.insertBefore(this.$dragImageStub, this);\r\n\t\t\te.dataTransfer.setDragImage(this.$dragImageStub, 0, 0);\r\n\t\t},\r\n\t\tdragend:  function(e){\r\n\t\t\tthis.stopDrag(e);\r\n\r\n\t\t\t//remove drag image stub\r\n\t\t\tthis.$dragImageStub.parentNode.removeChild(this.$dragImageStub);\r\n\t\t\tdelete this.$dragImageStub;\r\n\t\t},\r\n\t\tdrag:  function(e){\r\n\t\t\t//ignore final native drag event\r\n\t\t\tif (e.x === 0 && e.y === 0) return;\r\n\t\t\tthis.drag(e);\r\n\t\t\t//this.ondrag && this.ondrag.call(this);\r\n\t\t},\r\n\t\tdragover: 'setDropEffect',\r\n\t}\r\n}\r\n\r\n//Should it be of the prototype or static?\r\n//Prototype: + call by `this.defaults` +\r\nDraggable.defaults = {\r\n\ttreshold: 10,\r\n\r\n\tautoscroll: false,\r\n\r\n\t//null is no restrictions\r\n\twithin: document.body.parentNode,\r\n\r\n\t//what area of draggable should not be outside the restriction area\r\n\t//by default it’s whole draggable rect\r\n\tpinArea: null,\r\n\r\n\tgroup: null,\r\n\r\n\tghost: false,\r\n\r\n\ttranslate: true,\r\n\r\n\t//to what extent round position\r\n\tprecision: 1,\r\n\r\n\tsniper: false,\r\n\r\n\t//jquery-exactly axis fn: false, x, y\r\n\taxis: false,\r\n\r\n\t//detect whether to use native drag\r\n\t//NOTE: you can’t change drag cursor, though native drag is faster\r\n\t//NOTE: bedides, cursor is glitching if drag started on the edge\r\n\t//TODO: make ghost insteadof moving self\r\n\tnative: (function(){\r\n\t\tvar div = document.createElement(\"div\")\r\n\t\tvar isNativeSupported = ('draggable' in div) || ('ondragstart' in div && 'ondrop' in div);\r\n\t\treturn isNativeSupported\r\n\t})()\r\n}\r\n\r\n//TODO: implement default change method\r\n\r\n//Bind autoload & feature detection\r\nComponent.register(Draggable);","/**\r\n* Range input on steroids\r\n*/\r\nclass Slidy extends Component{\r\n\tconstructor(el, opts){\r\n\t\tvar self = super(el, opts);\r\n\r\n\t\t//solve h/v question\r\n\t\tif (self.vertical) self.horizontal = false;\r\n\r\n\t\t//detect how many dimensions needed\r\n\t\tself.dimensions = self.value.length;\r\n\t\tif (self.dimensions === 2) {\r\n\t\t\tself.horizontal = false;\r\n\t\t\tself.vertical = false;\r\n\t\t}\r\n\r\n\t\t//ensure picker with enough dimensions\r\n\t\t//TODO: take into account restrictwithin paddings\r\n\r\n\t\t//ensure picker's position according to the value\r\n\t\t//self.value = self.value;\r\n\r\n\t\t//create enough pickers\r\n\t\tself.picker = new Draggable({\r\n\t\t\twithin: self,\r\n\t\t\taxis: self.horizontal && !self.vertical ? 'x' : (self.vertical && !self.horizontal ? 'y' : false),\r\n\t\t\tondrag: self.handleDrag\r\n\t\t\t//native: false\r\n\t\t})\r\n\r\n\t\t//calc initial picker limits\r\n\t\t//TODO: find out picker height/width\r\n\t\t// var selfPads = paddings(self);\r\n\t\t// self.picker.limits.left = selfPads.left;\r\n\t\t// self.picker.limits.top = selfPads.top;\r\n\t\t// self.picker.limits.right = self.offsetWidth - selfPads.right;\r\n\t\t// self.picker.limits.bottom = self.offsetHeight - selfPads.bottom;\r\n\r\n\t\t//set initial position according to the value\r\n\t\t//self.moveToValue.call(self);\r\n\r\n\t\tself.appendChild(self.picker);\r\n\r\n\t\t//bind data to listen\r\n\t\tif (self.expose) {\r\n\t\t\t//TODO:\r\n\t\t\t//new Expose(self);\r\n\t\t}\r\n\r\n\t\treturn self;\r\n\t}\r\n\r\n\t//picker handler - moves thumb, if needed, fires change event\r\n\thandleDrag(e){\r\n\t\t//console.log(\"drag observed\", e.target.dragstate);\r\n\t\tvar thumb = e.currentTarget,\r\n\t\t\td = thumb.dragstate,\r\n\t\t\tlim = thumb.limits,\r\n\t\t\tthumbW = thumb.offsets.width,\r\n\t\t\tthumbH = thumb.offsets.height,\r\n\t\t\t//scope sizes\r\n\t\t\thScope = (lim.right - lim.left),\r\n\t\t\tvScope = (lim.bottom - lim.top)\r\n\r\n\t\t//TODO: optimize this part\r\n\t\t//calc value based on dragstate\r\n\t\tif (this.dimensions === 2){\r\n\t\t\tvar normalValue = [(thumb.x - lim.left) / hScope, ( - thumb.y + lim.bottom) / vScope];\r\n\t\t\tthis.value = [\r\n\t\t\t\tnormalValue[0] * (this.max[0] - this.min[0]) + this.min[0],\r\n\t\t\t\tnormalValue[1] * (this.max[1] - this.min[1]) + this.min[1]\r\n\t\t\t];\r\n\t\t} else if (this.vertical){\r\n\t\t\tvar normalValue = (- thumb.y + lim.top) / vScope;\r\n\t\t\tthis.value = normalValue * (this.max - this.min) + this.min;\r\n\t\t} else {\r\n\t\t\tvar normalValue = (thumb.x - lim.left) / hScope;\r\n\t\t\tthis.value = normalValue * (this.max - this.min) + this.min;\r\n\t\t}\r\n\r\n\t\t//trigger onchange\r\n\t\tthis.fire(\"change\")\r\n\t}\r\n\r\n\t//moves picker to the value\r\n\t//TODO: calc this without picker being added to the DOM\r\n\tmoveToValue(){\r\n\t\tvar\t//relative coords to move picker to\r\n\t\t\tx = 0,\r\n\t\t\ty = 0,\r\n\t\t\tpicker = this.picker,\r\n\t\t\tlim = picker.limits,\r\n\t\t\thScope = (lim.right - lim.left),\r\n\t\t\tvScope = (lim.bottom - lim.top)\r\n\r\n\t\tif (this.dimensions == 2){\r\n\t\t\tvar hRange = this.max[0] - this.min[0],\r\n\t\t\t\tvRange = this.max[1] - this.min[1],\r\n\t\t\t\tratioX = (this.value[0] - this.min[0]) / hRange,\r\n\t\t\t\tratioY = (this.value[1] - this.min[1]) / vRange\r\n\r\n\t\t} else if (this.vertical){\r\n\t\t\tvar vRange = this.max - this.min,\r\n\t\t\t\tratioY = (this.value - this.min) / vRange;\r\n\r\n\t\t} else {\r\n\t\t\tvar hRange = this.max - this.min,\r\n\t\t\t\tratioX = (this.value - this.min) / hRange;\r\n\r\n\t\t}\r\n\r\n\t\tthis.picker.x = ratioX * hScope;\r\n\t\tthis.picker.y = ratioY * vScope;\r\n\t}\r\n}\r\n\r\nSlidy.states = {\r\n\tdefault: {\r\n\t\t//click:\r\n\t}\r\n}\r\n\r\nSlidy.defaults = {\r\n\t//HTML5 things\r\n\tvalue: 50,\r\n\tmin: 0,\r\n\tmax: 100,\r\n\tstep: 1,\r\n\r\n\t//whether to expose self data to document’s scope\r\n\t//for declarative bindings\r\n\texpose: true,\r\n\r\n\t//Consider\r\n\r\n\t//Orientation\r\n\t//? multidimensinal\r\n\t//dragdealer way\r\n\tvertical: false,\r\n\thorizontal: true,\r\n\t//jquery-way\r\n\t//orientation: 'horizontal',\r\n\r\n\t//Range\r\n\t//jquery-way\r\n\trange: true, //min, max\r\n\r\n\t//Multiple values\r\n\t//? multidimensional multivalues?\r\n\t//jqueryui\r\n\t//NO: use just value as array\r\n\t//values: [a,b],\r\n\r\n\t//snapping function: rigid/loose\r\n\tsnap: false,\r\n\t//?or precision?\r\n\r\n\t//focusable, controllable\r\n\tkeyboard: true,\r\n\r\n\treadonly: false,\r\n\r\n\t//TODO: consider this\r\n\tthumbClass: 'draggable',\r\n\r\n\t//Callbacks\r\n\tonchange: null,\r\n\toncreate: null,\r\n\tonslide: null,\r\n\tonstart: null,\r\n\tonstop: null\r\n\r\n}\r\n\r\nComponent.register(Slidy);"]}