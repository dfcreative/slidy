(function(B){"object"===typeof exports&&"undefined"!==typeof module?module.exports=B():"function"===typeof define&&define.amd?define([],B):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).Slidy=B()})(function(){return function a(e,g,b){function d(h,c){if(!g[h]){if(!e[h]){var l="function"==typeof require&&require;if(!c&&l)return l(h,!0);if(f)return f(h,!0);l=Error("Cannot find module '"+h+"'");throw l.code="MODULE_NOT_FOUND",l;}l=g[h]={exports:{}};
e[h][0].call(l.exports,function(a){var b=e[h][1][a];return d(b?b:a)},l,l.exports,a,e,g,b)}return g[h].exports}for(var f="function"==typeof require&&require,h=0;h<b.length;h++)d(b[h]);return d}({1:[function(a,e,g){function b(){this._events=this._events||{};this._maxListeners=this._maxListeners||void 0}function d(a){return"function"===typeof a}function f(a){return"object"===typeof a&&null!==a}e.exports=b;b.EventEmitter=b;b.prototype._events=void 0;b.prototype._maxListeners=void 0;b.defaultMaxListeners=
10;b.prototype.setMaxListeners=function(a){if("number"!==typeof a||0>a||isNaN(a))throw TypeError("n must be a positive number");this._maxListeners=a;return this};b.prototype.emit=function(a){var b,c,l,e;this._events||(this._events={});if("error"===a&&(!this._events.error||f(this._events.error)&&!this._events.error.length)){b=arguments[1];if(b instanceof Error)throw b;throw TypeError('Uncaught, unspecified "error" event.');}c=this._events[a];if(void 0===c)return!1;if(d(c))switch(arguments.length){case 1:c.call(this);
break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:b=arguments.length;l=Array(b-1);for(e=1;e<b;e++)l[e-1]=arguments[e];c.apply(this,l)}else if(f(c)){b=arguments.length;l=Array(b-1);for(e=1;e<b;e++)l[e-1]=arguments[e];c=c.slice();b=c.length;for(e=0;e<b;e++)c[e].apply(this,l)}return!0};b.prototype.addListener=function(a,k){var c;if(!d(k))throw TypeError("listener must be a function");this._events||(this._events={});this._events.newListener&&this.emit("newListener",
a,d(k.listener)?k.listener:k);this._events[a]?f(this._events[a])?this._events[a].push(k):this._events[a]=[this._events[a],k]:this._events[a]=k;f(this._events[a])&&!this._events[a].warned&&(c=void 0!==this._maxListeners?this._maxListeners:b.defaultMaxListeners)&&0<c&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"===
typeof console.trace&&console.trace());return this};b.prototype.on=b.prototype.addListener;b.prototype.once=function(a,b){function c(){this.removeListener(a,c);f||(f=!0,b.apply(this,arguments))}if(!d(b))throw TypeError("listener must be a function");var f=!1;c.listener=b;this.on(a,c);return this};b.prototype.removeListener=function(a,b){var c,e,g;if(!d(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;c=this._events[a];g=c.length;e=-1;if(c===b||d(c.listener)&&
c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(f(c)){for(;0<g--;)if(c[g]===b||c[g].listener&&c[g].listener===b){e=g;break}if(0>e)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(e,1);this._events.removeListener&&this.emit("removeListener",a,b)}return this};b.prototype.removeAllListeners=function(a){var b;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&
delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);this.removeAllListeners("removeListener");this._events={};return this}b=this._events[a];if(d(b))this.removeListener(a,b);else for(;b.length;)this.removeListener(a,b[b.length-1]);delete this._events[a];return this};b.prototype.listeners=function(a){return this._events&&this._events[a]?d(this._events[a])?[this._events[a]]:this._events[a].slice():[]};b.listenerCount=function(a,
b){return a._events&&a._events[b]?d(a._events[b])?1:a._events[b].length:0}},{}],2:[function(a,e,g){function b(a,d){if(!(this instanceof b))return new b(a,d);var c=this;d=d||{};a||(a=z.createElement("div"));c.element=a;f(c,d);w.set(c.element,c);c.id=t();c.ns="slidy-"+c.id;c.element.id||(c.element.id=c.ns);c.element.classList.add("slidy");c.pickers=[];h(d.pickers)&&d.pickers.length?d.pickers.forEach(function(a){a instanceof Node&&(a={element:a});var b=c.createPicker(a);c.pickers.push(b);void 0!==a.value&&
(b.value=a.value)}):(c.pickers.push(c.createPicker()),void 0!==d.value&&(c.value=d.value));Object.defineProperty(c,"value",{set:function(a){this.pickers[0].value=a},get:function(){return this.pickers[0].value}});c.aria&&(c.element.setAttribute("role","slider"),a.setAttribute("aria-valuemax",c.max),a.setAttribute("aria-valuemin",c.min),a.setAttribute("aria-orientation",c.type),a.setAttribute("aria-atomic",!0),a.setAttribute("aria-controls",c.pickers.map(function(a){return a.element.id}).join(" ")));
c.element.hasAttribute("disabled")||c.enable();c.emit("created")}var d=a("./lib/picker"),f=a("xtend/mutable"),h=a("is-array"),k=a("lifecycle-events");g=a("events");var c=a("emmy/on"),l=a("emmy/off"),p=a("emmy/throttle"),m=a("get-client-xy").x,n=a("get-client-xy").y,t=a("get-uid"),u=window,z=document;e.exports=b;var w=b.cache=new WeakMap;a=b.prototype=Object.create(g.prototype);a.min=0;a.max=100;a.value=50;a.type="horizontal";a.repeat=!1;a.keyboard=!0;a.aria=!0;a.wheel=!0;a.click=!0;a.point=!1;a.align=
.5;a.enable=function(){var a=this;if(a.isEnabled)return a;a.isEnabled=!0;a.aria&&a.element.removeAttribute("aria-disabled");a.element.removeAttribute("disabled");p(u,"resize."+a.ns,20,function(){a.update()});c(a.element,"attached."+a.ns,function(b){a.update()});k.enable(a.element);a.click&&c(a.element,"touchstart."+a.ns+" mousedown."+a.ns,function(b){b.preventDefault();a.element.focus();var c=a.element.getBoundingClientRect(),d=[],h,q,f;if(b.touches)for(var k=0,e=b.touches.length;k<e;k++)q=m(b,k)-
c.left,f=n(b,k)-c.top,h=a.getClosestPicker(a.pickers.filter(function(a){return 0>d.indexOf(a)}),q,f),d.push(h),h.move(q,f).startDrag(b);else q=m(b)-c.left,f=n(b)-c.top,h=a.getClosestPicker(a.pickers,q,f),d.push(h),h.move(q,f).startDrag(b),h.focus();a.pickers.forEach(function(a){0>d.indexOf(a)&&(a.draggable.state="idle")})});a.wheel&&c(a.element,"wheel."+a.ns+" mousewheel"+a.ns,function(b){var c=z.activeElement,d,h=a.element.getBoundingClientRect();if(c===a.element){d=m(b)-h.left;var q=n(b)-h.top;
d=a.getClosestPicker(a.pickers,d,q);d.focus()}else if(c.parentNode===a.element)d=a.pickers.filter(function(a){return a.element===c})[0];else return;b.preventDefault();var f=q=0;0!==b.deltaX&&(q=2*b.deltaX/h.width,q=0<q?Math.ceil(q):Math.floor(q),q=-q);0!==b.deltaY&&(f=2*b.deltaY/h.height,f=0<f?Math.ceil(f):Math.floor(f));d.inc(q,f)});a.keyboard&&a.element.setAttribute("tabindex",-1);a.pickers.forEach(function(a){a.enable()});return a};a.disable=function(){this.isEnabled=!1;this.aria&&this.element.setAttribute("aria-disabled",
!0);this.element.setAttribute("disabled",!0);l(u,"resize."+this.ns);l(this.element,"attached."+this.ns);l(this.element,"mousedown."+this.ns);l(this.element,"touchstart."+this.ns);this.pickers.forEach(function(a){a.disable()});return this};a.update=function(){this.pickers.forEach(function(a){a.update()})};a.createPicker=function(a){var b=this;a=f({within:b.element,type:b.type,min:b.min,max:b.max,repeat:b.repeat,step:b.step,snap:b.snap,pickerClass:b.pickerClass,align:b.align,release:b.release,aria:b.aria,
keyboard:b.keyboard,wheel:b.wheel,point:b.point,value:b.value},a);var c=a.element||document.createElement("div");b.aria&&c.setAttribute("aria-describedby",b.element.id);b.element.appendChild(c);a=new d(c,a);a.on("change",function(a){b.aria&&(b.element.setAttribute("aria-valuenow",a),b.element.setAttribute("aria-valuetext",a));b.emit("change",a)});return a};a.getClosestPicker=function(a,b,c){var d=9999,h;a.forEach(function(a){var f=a.draggable.getCoords(),k=b-f[0]-a.draggable.pin[0]-a.draggable.pin.width*
a.align,f=c-f[1]-a.draggable.pin[1]-a.draggable.pin.height*a.align,k=Math.sqrt(k*k+f*f);k<d&&(d=k,h=a)});return h}},{"./lib/picker":3,"emmy/off":21,"emmy/on":22,"emmy/throttle":23,events:1,"get-client-xy":24,"get-uid":25,"is-array":26,"lifecycle-events":28,"xtend/mutable":49}],3:[function(a,e,g){function b(a,d){if(!(this instanceof b))return new b(a,d);a||(a=A.createElement("div"));a.classList.add("slidy-picker");this.element=a;d.pickerClass&&a.classList.add(d.pickerClass);this.id=C();this.ns="slidy-picker-"+
this.id;this.element.id||(this.element.id=this.ns);this.draggable=new k(a,{threshold:0,within:d.within,sniperSlowdown:.85,axis:"x",repeat:this.repeat,releaseDuration:80});c(this,"type",this.type);y(this,d);this.enable();this.type=d.type;void 0===d.step&&(this.step=100>Math.abs(this.max-this.min)?.1:1);void 0===d.value&&(this.value=.5*(this.min+this.max))}function d(a,b,d){d=d||0;t(b)&&(b=b(a+(0<d?1E-5:-1E-5)));return a+b*d}function f(a,b,c,f,h){a[38]&&(b[1]=d(b[1],c,1));a[39]&&(b[0]=d(b[0],c,1));
a[40]&&(b[1]=d(b[1],c,-1));a[37]&&(b[0]=d(b[0],c,-1));var k=1;if(a[18]||a[91]||a[17]||a[16])k=0;a[36]&&(b[k]=f[k]);a[35]&&(b[k]=h[k]);a[33]&&(b[k]=d(b[k],c,5));a[34]&&(b[k]=d(b[k],c,-5));return b}function h(a,b,c,f,h){c=c||1;if(a[38]||a[39])b=d(b,c,1);if(a[40]||a[37])b=d(b,c,-1);a[36]&&(b=f);a[35]&&(b=h);a[33]&&(b=d(b,c,5));a[34]&&(b=d(b,c,-5));return b}var k=a("draggy"),c=a("define-state"),l=a("emmy/emit"),p=a("emmy/on"),m=a("emmy/off"),n=a("mucss/css");g=a("events");var t=a("is-function");a("mutype/is-number");
var u=a("mumath/round"),z=a("mumath/between"),w=a("mumath/loop"),C=a("get-uid"),r=a("is-array"),y=a("xtend/mutable");e.exports=b;var A=document,x=document.documentElement;a=b.prototype=Object.create(g.prototype);a.enable=function(){var a=this;if(a.isEnabled)return a;a.isEnabled=!0;a.aria&&a.element.removeAttribute("aria-disabled");a.element.removeAttribute("disabled");p(a.draggable,"dragstart."+a.ns,function(){n(x,"cursor","none");n(this.element,"cursor","none")});p(a.draggable,"drag",function(){if(!a.release||
!a.draggable.isAnimated){var b=a.calcValue.apply(a,a.draggable.getCoords());a.value=b;a.snap&&a.renderValue(a.value)}});p(a.draggable,"dragend."+a.ns,function(){a.release&&(a.draggable.isAnimated=!0);a.renderValue(a.value);n(x,"cursor",null);n(this.element,"cursor",null)});a.keyboard&&(a.element.setAttribute("tabindex",0),a._pressedKeys=[],p(a.element,"keydown."+a.ns,function(b){a._pressedKeys[b.which]=!0;33<=b.which&&40>=b.which&&(b.preventDefault(),a.value=a.handleKeys(a._pressedKeys,a.value,a.step,
a.min,a.max),a.release&&(a.draggable.isAnimated=!0),a.renderValue(a.value))}),p(a.element,"keyup."+a.ns,function(b){a._pressedKeys[b.which]=!1}));return a};a.disable=function(){this.isEnabled=!1;this.aria&&this.element.setAttribute("aria-disabled",!0);this.element.setAttribute("disabled",!0);m(this.element,"dragstart."+this.ns);m(this.element,"drag."+this.ns);m(this.element,"dragend."+this.ns);this.keyboard&&(this.element.setAttribute("tabindex",-1),m(this.element,"keydown."+this.ns),m(this.element,
"keyup."+this.ns));return this};a.min=0;a.max=100;a.step=1;a.snap=!1;a.release=!1;a.point=!1;a.align=.5;Object.defineProperties(a,{value:{set:function(a){if(void 0===a)throw Error("Picker value cannot be undefined.");this.repeat&&(r(a)&&"x"===this.repeat?a[0]=w(a[0],this.min[0],this.max[0]):r(a)&&"y"===this.repeat?a[1]=w(a[1],this.min[1],this.max[1]):a=w(a,this.min,this.max));a=z(a,this.min,this.max);this.step&&(a=t(this.step)?u(a,this.step(a)):u(a,this.step));this._value=a;this.emit("change",a);
l(this.element,"change",a,!0)},get:function(){return this._value}}});a.renderValue=function(a){};a.calcValue=function(a,b){};a.handleKeys=function(a,b,c){};a.update=function(){this.point&&(this.draggable.pin=[this.draggable.offsets.width*this.align,this.draggable.offsets.height*this.align]);this.draggable.update();this.renderValue(this.value);return this};a.move=function(a,b){if(this.point){var c=this.draggable.pin.height*this.align;a=a-this.draggable.pin[0]-this.draggable.pin.width*this.align;b=
b-this.draggable.pin[1]-c}var c=this.draggable.pin.width-this.element.parentNode.clientWidth,d=this.draggable.pin.height-this.element.parentNode.clientHeight;0<c&&(a-=c);0<d&&(b-=d);this.draggable.move(a,b);this.value=this.calcValue(a,b);return this};a.startDrag=function(a){this.draggable.setTouch(a).update(a);"drag"!==this.draggable.state&&(this.draggable.state="drag");this.draggable.innerOffsetX=this.draggable.pin[0]+.5*this.draggable.pin.width;this.draggable.innerOffsetY=this.draggable.pin[1]+
.5*this.draggable.pin.height;this.draggable.drag(a);return this};a.focus=function(){this.element.focus()};a.blur=function(){this.element.blur()};a.type={_:"horizontal",horizontal:function(){var a=this;a.draggable.axis="x";a.renderValue=function(b){var c=a.draggable.limits;a.move((b-a.min)/(a.max-a.min)*(c.right-c.left));return a};a.calcValue=function(b){var c=a.draggable.limits;return(b-c.left)/(c.right-c.left)*(a.max-a.min)+a.min};a.handleKeys=h},vertical:function(){var a=this;a.draggable.axis="y";
a.renderValue=function(b){var c=a.draggable.limits;a.move(null,(-b+a.max)/(a.max-a.min)*(c.bottom-c.top));return a};a.calcValue=function(b,c){var d=a.draggable.limits;return(-c+d.bottom)/(d.bottom-d.top)*(a.max-a.min)+a.min};a.handleKeys=h},rectangular:function(){var a=this;a.draggable.axis=null;a.renderValue=function(b){var c=a.draggable.limits;a.move((b[0]-a.min[0])/(a.max[0]-a.min[0])*(c.right-c.left),(-b[1]+a.max[1])/(a.max[1]-a.min[1])*(c.bottom-c.top));return a};a.calcValue=function(b,c){var d=
a.draggable.limits,d=[(b-d.left)/(d.right-d.left),(-c+d.bottom)/(d.bottom-d.top)];return[d[0]*(a.max[0]-a.min[0])+a.min[0],d[1]*(a.max[1]-a.min[1])+a.min[1]]};a.handleKeys=f},circular:function(){var a=this;a.draggable.axis=null;a.draggable.move=function(a,b){var c=this.limits,d=(c.right-c.left)/2-this.pin[0],c=(c.bottom-c.top)/2-this.pin[1],f=Math.atan2(b-c,a-d);this.setCoords(Math.cos(f)*(d+this.pin[0])+d,Math.sin(f)*(c+this.pin[1])+c)};a.renderValue=function(b){var c=a.draggable.limits,d=.5*(c.right-
c.left),c=.5*(c.bottom-c.top);b=2*((b-a.min)/(a.max-a.min)-.5)*Math.PI;a.move(Math.cos(b)*d+d,Math.sin(b)*c+c)};a.calcValue=function(b,c){var d=a.draggable.limits,f=d.bottom-d.top;b=b-.5*(d.right-d.left)+a.draggable.pin[0];c=c-.5*f+a.draggable.pin[1];return(.5*Math.atan2(c,b)/Math.PI+.5)*(a.max-a.min)+a.min};a.handleKeys=h},round:function(){var a=this;a.draggable.axis=null;a.draggable.move=function(a,b){var c=this.limits,d=c.right-c.left,c=c.bottom-c.top,f=d/2-this.pin[0],h=c/2-this.pin[1],k=a-f,
e=b-h,l=Math.atan2(b-h,a-f),k=Math.sqrt(k*k+e*e);this.setCoords(k>d/2?Math.cos(l)*(f+this.pin[0])+f:a,k>c/2?Math.sin(l)*(h+this.pin[1])+h:b)};a.renderValue=function(b){var c=a.draggable.limits,d=c.right-c.left,c=c.bottom-c.top,f=2*((b[0]-a.min[0])/(a.max[0]-a.min[0])-.5)*Math.PI,h=(b[1]-a.min[1])/(a.max[1]-a.min[1]);b=d*h*.5;h=c*h*.5;a.move(Math.cos(f)*b+.5*d,Math.sin(f)*h+.5*c)};a.calcValue=function(b,c){var d=a.draggable.limits,f=d.right-d.left,d=d.bottom-d.top;b=b+a.draggable.pin[0]-.5*f;c=c+a.draggable.pin[1]-
.5*d;d=.5*Math.atan2(c,b)/Math.PI+.5;f=Math.sqrt(b*b+c*c)/f*2;return[d*(a.max[0]-a.min[0])+a.min[0],f*(a.max[1]-a.min[1])+a.min[1]]};a.handleKeys=f}};a.inc=function(a,b){r(this.value)?(this.value[0]=d(this.value[0],this.step,a),this.value[1]=d(this.value[1],this.step,b)):this.value=d(this.value,this.step,b||a);this.renderValue(this.value)}},{"define-state":5,draggy:10,"emmy/emit":12,"emmy/off":21,"emmy/on":22,events:1,"get-uid":25,"is-array":26,"is-function":27,"mucss/css":32,"mumath/between":42,
"mumath/loop":43,"mumath/round":45,"mutype/is-number":47,"xtend/mutable":49}],4:[function(a,e,g){e.exports=function(a,d){if(a.contains)return a.contains(d);var f=a.compareDocumentPosition(d);return 0===f||f&16}},{}],5:[function(a,e,g){e.exports=function(a,f,h,k){k?a[f]=function(){return arguments.length?c.set(arguments[0]):c.get()}:Object.defineProperty(a,f,{set:function(a){return c.set(a)},get:function(){return c.get()}});var c=new b(h,a);return a};var b=a("st8")},{st8:6}],6:[function(a,e,g){function b(a,
c){if(a instanceof b)return a;if(!(this instanceof b))return new b(a);this.states=a||{};this.context=c||this;this.isInit=!1}function d(a,b,d){return f(a[b])?a[b].call(d):a[b]}g=a("events");var f=a("is-function"),h=a("is-plain-object");b.options={leaveCallback:"after",enterCallback:"before",changeCallback:"change",remainderState:"_"};a=b.prototype=Object.create(g.prototype);a.set=function(a){var c=this.state,f=this.states,e=void 0!==f[c]?c:b.options.remainderState,g=f[e],e=b.options.leaveCallback+
e;if(this.isInit){if(h(g)&&!this[e]){this[e]=!0;g=d(g,b.options.leaveCallback,this.context);if(!1===g)return this[e]=!1;if(void 0!==g&&g!==a)return this.set(g),this[e]=!1;this[e]=!1;if(this.state!==c)return}if(a===c)return!1}else this.isInit=!0;this.state=a;var e=void 0!==f[a]?a:b.options.remainderState,n=f[e],g=b.options.enterCallback+e;if(!this[g]){this[g]=!0;f=h(n)?d(n,b.options.enterCallback,this.context):d(f,e,this.context);if(!1===f)return this.set(c),this[g]=!1;if(void 0!==f&&f!==a)return this.set(f),
this[g]=!1;this[g]=!1}a!==c&&this.emit(b.options.changeCallback,a,c);return this.context};a.get=function(){return this.state};e.exports=b},{events:1,"is-function":7,"is-plain-object":8}],7:[function(a,e,g){e.exports=function(a){var f=b.call(a);return"[object Function]"===f||"function"===typeof a&&"[object RegExp]"!==f||"undefined"!==typeof window&&(a===window.setTimeout||a===window.alert||a===window.confirm||a===window.prompt)};var b=Object.prototype.toString},{}],8:[function(a,e,g){function b(a){return!0===
d(a)&&"[object Object]"===Object.prototype.toString.call(a)}var d=a("isobject");e.exports=function(a){if(!1===b(a))return!1;a=a.constructor;if("function"!==typeof a)return!1;a=a.prototype;return!1===b(a)||!1===a.hasOwnProperty("isPrototypeOf")?!1:!0}},{isobject:9}],9:[function(a,e,g){e.exports=function(a){return null!=a&&"object"===typeof a&&!Array.isArray(a)}},{}],10:[function(a,e,g){function b(a,c){if(!(this instanceof b))return new b(a,c);this._id=G();this._ns=".draggy_"+this._id;this.element=
a;H.set(a,this);r(this,"css3",this.css3);this.css3=!0;r(this,"state",this.state);this.state="idle";r(this,"axis",this.axis);this.axis=null;r(this,"isAnimated",this.isAnimated);y(this,c);this.update()}function d(a){if(!(a[0]||a[1]||a[2]||a[3]))return!0}var f=a("mucss/css"),h=a("mucss/parse-value"),k=a("mucss/selection"),c=a("mucss/offsets"),l=a("mucss/translate"),p=a("emmy/on"),m=a("emmy/off"),n=a("emmy/emit");g=a("events");var t=a("get-client-xy").x,u=a("get-client-xy").y,z=a("is-array"),w=a("is-number"),
C=a("is-function"),r=a("define-state"),y=a("xtend/mutable"),A=a("mumath/round"),x=a("mumath/between"),q=a("mumath/loop"),G=a("get-uid"),E=window,v=document,F=v.documentElement,H=b.cache=new WeakMap;a=b.prototype=Object.create(g.prototype);a.state={_:{before:function(){var a=this;n(a.element,"idle",null,!0);a.emit("idle");p(a.element,"mousedown"+a._ns+" touchstart"+a._ns,function(b){b.preventDefault();a.setTouch(b);a.update(b);a.state="threshold"})},after:function(){var a=this;m(a.element,"touchstart"+
a._ns+" mousedown"+a._ns);a.release&&(a._trackingInterval=setInterval(function(b){var c=Date.now()-a.timestamp;b=a.prevX-a.frame[0];var d=a.prevY-a.frame[1];a.frame[0]=a.prevX;a.frame[1]=a.prevY;var f=Math.sqrt(b*b+d*d),c=Math.min(a.velocity*f/(1+c),a.maxSpeed);a.speed=.8*c+.2*a.speed;a.angle=Math.atan2(d,b);a.emit("track");return a},a.framerate))}},threshold:{before:function(){var a=this;d(a.threshold)?a.state="drag":(a.emit("threshold"),p(v,"touchmove"+a._ns+" mousemove"+a._ns,function(b){b.preventDefault();
var c=t(b,a.touchIdx),d=u(b,a.touchIdx),c=a.prevMouseX-c,d=a.prevMouseY-d;if(c<a.threshold[0]||c>a.threshold[2]||d<a.threshold[1]||d>a.threshold[3])a.update(b),a.state="drag"}),p(v,"mouseup"+a._ns+" touchend"+a._ns+"",function(b){b.preventDefault();a.resetTouch();a.state="idle"}))},after:function(){m(v,"touchmove"+this._ns+" mousemove"+this._ns+" mouseup"+this._ns+" touchend"+this._ns)}},drag:{before:function(){var a=this;k.disable(F);a.emit("dragstart");n(a.element,"dragstart",null,!0);a.emit("drag");
n(a.element,"drag",null,!0);p(v,"touchend"+a._ns+" mouseup"+a._ns+" mouseleave"+a._ns,function(b){b.preventDefault();a.resetTouch();a.state=1<a.speed?"release":"idle"});p(v,"touchmove"+a._ns+" mousemove"+a._ns,function(b){a.drag(b)})},after:function(){k.enable(F);this.emit("dragend");n(this.element,"dragend",null,!0);m(v,"touchend"+this._ns+" mouseup"+this._ns+" mouseleave"+this._ns);m(v,"touchmove"+this._ns+" mousemove"+this._ns);clearInterval(this._trackingInterval)}},release:{before:function(){this.isAnimated=
!0;this.move(this.prevX+this.speed*Math.cos(this.angle),this.prevY+this.speed*Math.sin(this.angle));this.speed=0;this.emit("track");this.state="idle"}}};a.drag=function(a){a.preventDefault();var b=t(a,this.touchIdx),c=u(a,this.touchIdx),d=b-this.prevMouseX,f=c-this.prevMouseY,h=b+E.pageXOffset,k=c+E.pageYOffset;if(a.ctrlKey||a.metaKey)this.sniperOffsetX+=d*this.sniperSlowdown,this.sniperOffsetY+=f*this.sniperSlowdown;this.move(h-this.initOffsetX-this.innerOffsetX-this.sniperOffsetX,k-this.initOffsetY-
this.innerOffsetY-this.sniperOffsetY);this.prevMouseX=b;this.prevMouseY=c;this.emit("drag");n(this.element,"drag",null,!0)};var D=0;a.setTouch=function(a){if(!a.touches||this.isTouched())return this;this.touchIdx=D;D++;return this};a.resetTouch=function(){D=0;this.touchIdx=null;return this};a.isTouched=function(){return null!==this.touchIdx};a.isAnimated={"true":{before:function(){var a=this;clearTimeout(a._animateTimeout);f(a.element,{transition:a.releaseDuration+"ms ease-out "+(a.css3?"transform":
"position")});a._animateTimeout=setTimeout(function(){a.isAnimated=!1},a.releaseDuration)},after:function(){f(this.element,{transition:null})}}};a.touchIdx=null;a.update=function(a){var b=this.getCoords();this.prevX=b[0];this.prevY=b[1];b=c(this.element);this.initOffsetX=b.left-this.prevX;this.initOffsetY=b.top-this.prevY;this.offsets=b;"parent"===this.within&&(this.within=this.element.parentNode||v);this.withinOffsets=b=c(this.within);this.overflowX=this.pin.width-b.width;this.overflowY=this.pin.height-
b.height;this.limits={left:b.left-this.initOffsetX-this.pin[0]-(0>this.overflowX?0:this.overflowX),top:b.top-this.initOffsetY-this.pin[1]-(0>this.overflowY?0:this.overflowY),right:0<this.overflowX?0:b.right-this.initOffsetX-this.pin[2],bottom:0<this.overflowY?0:b.bottom-this.initOffsetY-this.pin[3]};this.innerOffsetX=this.pin[0];this.innerOffsetY=this.pin[1];b=this.element.getBoundingClientRect();if(a)this.prevMouseX=t(a,this.touchIdx),this.prevMouseY=u(a,this.touchIdx),this.innerOffsetX=-b.left+
t(a,this.touchIdx),this.innerOffsetY=-b.top+u(a,this.touchIdx);else{a=.5*(this.pin[0]+this.pin[2]);var d=.5*(this.pin[1]+this.pin[3]);this.prevMouseX=b.left+a;this.prevMouseY=b.top+d;this.innerOffsetX=a;this.innerOffsetY=d}this.angle=this.amplitude=this.speed=0;this.timestamp=+new Date;this.frame=[this.prevX,this.prevY];this.sniperOffsetY=this.sniperOffsetX=0};a.css3={_:function(){this.getCoords=function(){return[h(f(this.element,"left")),h(f(this.element,"top"))]};this.setCoords=function(a,b){f(this.element,
{left:a,top:b});this.prevX=a;this.prevY=b}},"true":function(){this.getCoords=function(){return l(this.element)||[0,0]};this.setCoords=function(a,b){a=A(a,this.precition);b=A(b,this.precition);f(this.element,"transform",["translate3d(",a,"px,",b,"px, 0)"].join(""));this.prevX=a;this.prevY=b}}};a.within=v;Object.defineProperties(a,{pin:{set:function(a){z(a)?2===a.length?this._pin=[a[0],a[1],a[0],a[1]]:4===a.length&&(this._pin=a):w(a)?this._pin=[a,a,a,a]:this._pin=a;this._pin.width=this._pin[2]-this._pin[0];
this._pin.height=this._pin[3]-this._pin[1]},get:function(){if(this._pin)return this._pin;var a=[0,0,this.offsets.width,this.offsets.height];a.width=this.offsets.width;a.height=this.offsets.height;return a}},threshold:{set:function(a){w(a)?this._threshold=[.5*-a,.5*-a,.5*a,.5*a]:2===a.length?this._threshold=[.5*-a[0],.5*-a[1],.5*a[0],.5*a[1]]:4===a.length?this._threshold=a:C(a)?this._threshold=a():this._threshold=[0,0,0,0]},get:function(){return this._threshold||[0,0,0,0]}}});a.release=!1;a.releaseDuration=
500;a.velocity=1E3;a.maxSpeed=250;a.framerate=50;a.precision=1;a.sniper=!0;a.sniperSlowdown=.85;a.axis={_:function(){this.move=function(a,b){var c=this.limits;if(this.repeat){var d=c.right-c.left,f=c.bottom-c.top,h=-this.initOffsetX+this.withinOffsets.left-this.pin[0]-Math.max(0,this.overflowX),k=-this.initOffsetY+this.withinOffsets.top-this.pin[1]-Math.max(0,this.overflowY);"x"===this.repeat?a=q(a-h,d)+h:("y"!==this.repeat&&(a=q(a-h,d)+h),b=q(b-k,f)+k)}a=x(a,c.left,c.right);b=x(b,c.top,c.bottom);
this.setCoords(a,b)}},x:function(){this.move=function(a,b){var c=this.limits;if(this.repeat){var c=c.right-c.left,d=-this.initOffsetX+this.withinOffsets.left-this.pin[0]-Math.max(0,this.overflowX);a=q(a-d,c)+d}else a=x(a,c.left,c.right);this.setCoords(a,this.prevY)}},y:function(){this.move=function(a,b){var c=this.limits;if(this.repeat){var c=c.bottom-c.top,d=-this.initOffsetY+this.withinOffsets.top-this.pin[1]-Math.max(0,this.overflowY);b=q(b-d,c)+d}else b=x(b,c.top,c.bottom);this.setCoords(this.prevX,
b)}}};a.repeat=!1;e.exports=b},{"define-state":5,"emmy/emit":12,"emmy/off":21,"emmy/on":22,events:1,"get-client-xy":24,"get-uid":25,"is-array":26,"is-function":27,"is-number":11,"mucss/css":32,"mucss/offsets":36,"mucss/parse-value":37,"mucss/selection":40,"mucss/translate":41,"mumath/between":42,"mumath/loop":43,"mumath/round":45,"xtend/mutable":49}],11:[function(a,e,g){e.exports=function(a){return!!+a&&!Array.isArray(a)&&isFinite(a)||"0"===a||0===a}},{}],12:[function(a,e,g){function b(a,b,h,e){var g,
r=b;k(a)||a===n?(c(b)?r=b:(r=m.createEvent("CustomEvent"),r.initCustomEvent(b,e,!0,h)),g=a.dispatchEvent):p&&a instanceof p?(r=p.Event(b,h),r.detail=h,g=e?targte.trigger:a.triggerHandler):g=a.emit||a.trigger||a.fire||a.dispatchEvent||a.raise;var y=f(arguments,2);if(g&&d.freeze(a,"emit"+b))return g.apply(a,[r].concat(y)),d.unfreeze(a,"emit"+b),a;g=l(a,r);g=f(g);for(r=0;r<g.length;r++)g[r]&&g[r].apply(a,y);return a}var d=a("icicle"),f=a("sliced"),h=a("mutype/is-string"),k=a("mutype/is-node"),c=a("mutype/is-event"),
l=a("./listeners");e.exports=function(a,c){if(a){var d=arguments;if(h(c))d=f(arguments,2),c.split(/\s+/).forEach(function(c){c=c.split(".")[0];b.apply(this,[a,c].concat(d))});else return b.apply(this,d)}};var p="undefined"===typeof jQuery?void 0:jQuery,m="undefined"===typeof document?void 0:document,n="undefined"===typeof window?void 0:window},{"./listeners":13,icicle:14,"mutype/is-event":15,"mutype/is-node":17,"mutype/is-string":18,sliced:19}],13:[function(a,e,g){function b(a,b,c){a=f.get(a);if(!b)return a||
{};if(!a||!a[b])return[];b=a[b];c&&c.length&&(b=b.filter(function(a){return d(a,c)}));return b}function d(a,b){if(a._ns)for(var c=b.length;c--;)if(0<=a._ns.indexOf(b[c]))return!0}var f=new WeakMap;b.remove=function(a,b,c,e){a=f.get(a);if(!a||!a[b])return!1;b=a[b];if(e&&e.length&&!d(c,e))return!1;for(e=0;e<b.length;e++)if(b[e]===c||b[e].fn===c){b.splice(e,1);break}};b.add=function(a,b,c,d){c&&(f.has(a)||f.set(a,{}),a=f.get(a),(a[b]=a[b]||[]).push(c),d&&d.length&&(c._ns=d))};e.exports=b},{}],14:[function(a,
e,g){e.exports={freeze:function(a,f){var h=b.get(a);if(h&&h[f])return!1;h||(h={},b.set(a,h));return h[f]=!0},unfreeze:function(a,f){var h=b.get(a);if(!h||!h[f])return!1;h[f]=null;return!0},isFrozen:function(a,f){var h=b.get(a);return h&&h[f]}};var b=new WeakMap},{}],15:[function(a,e,g){e.exports=function(a){return"undefined"!==typeof Event&&a instanceof Event}},{}],16:[function(a,e,g){e.exports=function(a){return!(!a||!a.apply)}},{}],17:[function(a,e,g){e.exports=function(a){return"undefined"!==typeof document&&
a instanceof Node}},{}],18:[function(a,e,g){e.exports=function(a){return"string"===typeof a||a instanceof String}},{}],19:[function(a,e,g){e.exports=a("./lib/sliced")},{"./lib/sliced":20}],20:[function(a,e,g){e.exports=function(a,d,f){var h=[],e=a.length;if(0===e)return h;d=0>d?Math.max(0,d+e):d||0;for(void 0!==f&&(e=0>f?f+e:f);e-- >d;)h[e-d]=a[e];return h}},{}],21:[function(a,e,g){function b(a,c,e){if(!a)return a;var g;if(void 0===e){var m=f(arguments,1),n=a.removeAll||a.removeAllListeners;n&&n.apply(a,
m);if(c)c.split(/\s+/).forEach(function(c){var d=c.split(".");c=d.shift();g=h(a,c,d);for(d=g.length;d--;)b(a,c,g[d])});else for(c in g=h(a),g)b(a,c);return a}var t=a.off||a.removeEventListener||a.removeListener||a.detachEvent;c.split(/\s+/).forEach(function(b){var c=b.split(".");b=c.shift();if(t)if(d.freeze(a,"off"+b))t.call(a,b,e),d.unfreeze(a,"off"+b);else return a;e.closedCall&&(e.closedCall=!1);h.remove(a,b,e,c)});return a}e.exports=b;var d=a("icicle"),f=a("sliced"),h=a("./listeners")},{"./listeners":13,
icicle:14,sliced:19}],22:[function(a,e,g){function b(a,b,c){if(!a)return a;var e=a.on||a.addEventListener||a.addListener||a.attachEvent;b.split(/\s+/).forEach(function(b){var g=b.split(".");b=g.shift();if(e)if(d.freeze(a,"on"+b))e.call(a,b,c),d.unfreeze(a,"on"+b);else return a;f.add(a,b,c,g)});return a}var d=a("icicle"),f=a("./listeners");e.exports=b;b.wrap=function(a,b,c,d){b=function(){if(d.apply(a,arguments))return c.apply(a,arguments)};b.fn=c;return b}},{"./listeners":13,icicle:14}],23:[function(a,
e,g){function b(a,f,c,e){return d(a,f,b.wrap(a,f,c,e))}e.exports=b;var d=a("./on");a("./off");var f=a("mutype/is-fn");b.wrap=function(a,b,c,d){f(d)&&(b=d,d=c,c=b);var e=function(){e.closedInterval?e.closedCall=!0:(e.closedCall=!1,c.apply(a,arguments),e.closedInterval=setTimeout(function(){e.closedInterval=null;e.closedCall&&e.apply(a,arguments)},d))};e.fn=c;return e}},{"./off":21,"./on":22,"mutype/is-fn":16}],24:[function(a,e,g){function b(a,b){return a.touches?b||0===b?a.touches[b].clientY:a.targetTouches[0].clientY:
a.clientY}function d(a,b){return a.touches?b||0===b?a.touches[b].clientX:a.targetTouches[0].clientX:a.clientX}function f(a,f){return[d(a,f),b(a,f)]}f.x=d;f.y=b;e.exports=f},{}],25:[function(a,e,g){var b=Date.now()%1E9;e.exports=function(){return(1E9*Math.random()>>>0)+b++}},{}],26:[function(a,e,g){var b=Object.prototype.toString;e.exports=Array.isArray||function(a){return!!a&&"[object Array]"==b.call(a)}},{}],27:[function(a,e,g){arguments[4][7][0].apply(g,arguments)},{dup:7}],28:[function(a,e,g){function b(a,
b){a||(a="*");b=k(b||l);n.push(a);m.observe(b,{subtree:!0,childList:!0});a instanceof Node&&!c(l,a)||d(k.call(b,a,!0))}function d(a){for(var b=!1,d,e=a.length;e--;)if(d=a[e],1===d.nodeType&&!t.has(d)){a:{for(var g=n.length,k=void 0;g--;){k=n[g];if(d===k)break a;if("string"===typeof k&&h(d,k))break a;if(c(d,k)){d=k;break a}}d=void 0}d&&(b||(b=!0),t.add(d),f(d,p.attachedCallbackName,null,!0))}}g=a("mutation-observer");a("emmy/on");var f=a("emmy/emit");a("emmy/off");var h=a("matches-selector"),k=a("tiny-element"),
c=a("contains"),l=document,p=e.exports=b;p.enable=b;p.disable=function(a){a=n.indexOf(a);0<=a&&n.splice(a,1)};p.attachedCallbackName="attached";p.detachedCallbackName="detached";var m=new g(function(a){a.forEach(function(a){d(a.addedNodes);a=a.removedNodes;for(var b=a.length;b--;){var c=a[b];1===c.nodeType&&t.has(c)&&(f(c,p.detachedCallbackName,null,!0),t["delete"](c))}})}),n=[],t=new WeakSet},{contains:4,"emmy/emit":12,"emmy/off":21,"emmy/on":22,"matches-selector":29,"mutation-observer":30,"tiny-element":48}],
29:[function(a,e,g){a=Element.prototype;var b=a.matches||a.matchesSelector||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector;e.exports=function(a,f){if(b)return b.call(a,f);for(var e=a.parentNode.querySelectorAll(f),g=0;g<e.length;g++)if(e[g]==a)return!0;return!1}},{}],30:[function(a,e,g){e.exports=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver},{}],31:[function(a,e,g){e.exports=function(a,d,f,e,g,c){this.top=d||0;this.bottom=
e||0;this.left=a||0;this.right=f||0;void 0!==g&&(this.width=g||this.right-this.left);void 0!==c&&(this.height=c||this.bottom-this.top)}},{}],32:[function(a,e,g){function b(a){var b=a[0].toUpperCase()+a.slice(1);return void 0!==d[a]?a:void 0!==d[f+b]?f+b:""}var d=a("./fake-element").style,f=a("./prefix").dom;e.exports=function(a,d){if(a&&d){var c,f;if("string"===typeof d){c=d;if(3>arguments.length)return a.style[b(c)];f=arguments[2]||"";d={};d[c]=f}for(c in d)"number"===typeof d[c]&&/left|right|bottom|top|width|height/i.test(c)&&
(d[c]+="px"),f=d[c]||"",a.style[b(c)]=f}}},{"./fake-element":33,"./prefix":38}],33:[function(a,e,g){e.exports=document.createElement("div")},{}],34:[function(a,e,g){g.x=function(){return win.innerHeight>root.clientHeight};g.y=function(){return win.innerWidth>root.clientWidth}},{}],35:[function(a,e,g){e.exports=function(a){var d=a;if(a===window)return!0;if(a===document)return!1;for(;d;){if("fixed"===getComputedStyle(d).position)return!0;d=d.offsetParent}return!1}},{}],36:[function(a,e,g){var b=window,
d=a("./Rect"),f=a("./has-scroll"),h=a("./scrollbar"),k=a("./is-fixed");e.exports=function(a){if(!a)throw Error("Bad argument");var e;if(a===b)return a=new d(b.pageXOffset,b.pageYOffset),a.width=b.innerWidth-(f.y()?h:0),a.height=b.innerHeight-(f.x()?h:0),a.right=a.left+a.width,a.bottom=a.top+a.height,a;try{e=a.getBoundingClientRect()}catch(g){e=new d(a.clientLeft,a.clientTop)}var m=k(a),n=m?0:b.pageXOffset,m=m?0:b.pageYOffset;return a=new d(e.left+n,e.top+m,e.left+n+a.offsetWidth,e.top+m+a.offsetHeight,
a.offsetWidth,a.offsetHeight)}},{"./Rect":31,"./has-scroll":34,"./is-fixed":35,"./scrollbar":39}],37:[function(a,e,g){e.exports=function(a){return parseFloat((a+"").slice(0,-2))||0}},{}],38:[function(a,e,g){a=getComputedStyle(document.documentElement,"");a=(Array.prototype.slice.call(a).join("").match(/-(moz|webkit|ms)-/)||""===a.OLink&&["","o"])[1];dom="WebKit|Moz|MS|O".match(new RegExp("("+a+")","i"))[1];e.exports={dom:dom,lowercase:a,css:"-"+a+"-",js:a[0].toUpperCase()+a.substr(1)}},{}],39:[function(a,
e,g){a=document.createElement("div");g=a.style;g.width="100px";g.height="100px";g.overflow="scroll";g.position="absolute";g.top="-9999px";document.body.appendChild(a);e.exports=a.offsetWidth-a.clientWidth;document.body.removeChild(a)},{}],40:[function(a,e,g){function b(a){a.preventDefault()}var d=a("./css");g.disable=function(a){d(a,{"user-select":"none","user-drag":"none","touch-callout":"none"});a.setAttribute("unselectable","on");a.addEventListener("selectstart",b)};g.enable=function(a){d(a,{"user-select":null,
"user-drag":null,"touch-callout":null});a.removeAttribute("unselectable");a.removeEventListener("selectstart",b)}},{"./css":32}],41:[function(a,e,g){var b=a("./css"),d=a("./parse-value");e.exports=function(a){a=b(a,"transform");return(a=/translate(?:3d)?\s*\(([^\)]*)\)/.exec(a))?a[1].split(/\s*,\s*/).map(function(a){return d(a)}):null}},{"./css":32,"./parse-value":37}],42:[function(a,e,g){e.exports=a("./wrap")(function(a,d,e){return e>d?Math.max(Math.min(a,e),d):Math.max(Math.min(a,d),e)})},{"./wrap":46}],
43:[function(a,e,g){e.exports=a("./wrap")(function(a,d,e){void 0===e&&(e=d,d=0);if(d>e){var g=e;e=d;d=g}g=e-d;a=(a+d)%g-d;a<d&&(a+=g);a>e&&(a-=g);return a})},{"./wrap":46}],44:[function(a,e,g){e.exports=a("./wrap")(function(a){a+="";var d=a.indexOf(".")+1;return d?a.length-d:0})},{"./wrap":46}],45:[function(a,e,g){var b=a("./precision");e.exports=a("./wrap")(function(a,e){if(0===e)return a;if(!e)return Math.round(a);e=parseFloat(e);a=Math.round(a/e)*e;return parseFloat(a.toFixed(b(e)))})},{"./precision":44,
"./wrap":46}],46:[function(a,e,g){e.exports=function(a){return function(d){var e=arguments;if(d instanceof Array){for(var g=Array(d.length),k,c=0;c<d.length;c++){k=[];for(var l=0,p=e.length,m;l<p;l++)m=e[l]instanceof Array?e[l][c]:e[l],k.push(m);g[c]=a.apply(this,k)}return g}if("object"===typeof d){g={};for(c in d){k=[];l=0;for(p=e.length;l<p;l++)m="object"===typeof e[l]?e[l][c]:e[l],k.push(m);g[c]=a.apply(this,k)}return g}return a.apply(this,e)}}},{}],47:[function(a,e,g){e.exports=function(a){return"number"===
typeof a||a instanceof Number}},{}],48:[function(a,e,g){var b=[].slice;e.exports=function(a,e){var g=this===window?document:this;return"string"==typeof a?e?b.call(g.querySelectorAll(a),0):g.querySelector(a):a instanceof Node||a===window||!a.length?e?[a]:a:b.call(a,0)}},{}],49:[function(a,e,g){e.exports=function(a){for(var d=1;d<arguments.length;d++){var e=arguments[d],g;for(g in e)e.hasOwnProperty(g)&&(a[g]=e[g])}return a}},{}]},{},[2])(2)});
