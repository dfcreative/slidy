{"version":3,"file":"slidy.js","sources":["../src/util.js","@traceur/generated/TemplateParser/0","../src/Component.js","@traceur/generated/TemplateParser/2","@traceur/generated/TemplateParser/1","../src/Draggable.js","@traceur/generated/TemplateParser/3","../src/Area.js","../src/Picker.js"],"names":[],"mappings":"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","sourcesContent":["//#exclude\r\nvar pluginName = \"slidy\", jQuery, $\r\n//#endexclude\r\n//#put `var pluginName = {{ pluginName }}`\r\n\r\n//----------------Utils\r\nfunction extend(a){\r\n\tfor (var i = 1, l = arguments.length; i<l; i++){\r\n\t\tvar b = arguments[i];\r\n\t\tfor (var k in b){\r\n\t\t\ta[k] = b[k];\r\n\t\t}\r\n\t}\r\n\treturn a;\r\n}\r\n\r\n$ = $ || function(s){\r\n\treturn document.querySelector(s);\r\n}\r\n\r\n//return element position relative to the viewport\r\nfunction offsetBox($el){\r\n\tvar box = $el.getBoundingClientRect();\r\n\tbox.height= $el.offsetHeight; //this.el.clientHeight;\r\n\tbox.width= $el.offsetWidth; //this.el.clientWidth;\r\n\tbox.center= [box.width * 0.5, box.height * 0.5];\r\n\treturn box;\r\n}\r\n\r\n//return paddings\r\nfunction paddingBox($el){\r\n\tvar box = {}, style = getComputedStyle($el);\r\n\r\n\tbox.top = ~~style.paddingTop.slice(0,-2)\r\n\tbox.left = ~~style.paddingLeft.slice(0,-2)\r\n\tbox.bottom = ~~style.paddingBottom.slice(0,-2)\r\n\tbox.right = ~~style.paddingRight.slice(0,-2)\r\n\r\n\treturn box;\r\n}\r\n\r\n/**\r\n* Simple event methods\r\n*/\r\n//Binds\r\nfunction on(el, evt, delegate, fn){\r\n\tif (jQuery){\r\n\t\t//delegate to jquery\r\n\t\tjQuery(el).on.apply(el, arguments);\r\n\t} else if (arguments.length === 3){\r\n\t\t//listen element\r\n\t\tel.addEventListener(evt, delegate)\r\n\t} else if (arguments.length === 4 && !delegate) {\r\n\t\tel.addEventListener(evt, fn)\r\n\t} else {\r\n\t\t//delegate listening\r\n\t\tel.addEventListener(evt, function(e){\r\n\t\t\t//TODO: if e.currentTarget is in the delegatees list - pass event\r\n\t\t}.bind(el))\r\n\t}\r\n}\r\nfunction off(el, evt, fn){\r\n\t//console.log(\"off\", arguments)\r\n\tif (jQuery){\r\n\t\t//delegate to jquery\r\n\t\tjQuery(el).off.apply(el, arguments);\r\n\t} else if (arguments.length === 3){\r\n\t\t//listen element\r\n\t\tel.removeEventListener(evt, fn)\r\n\t}\r\n}\r\n\r\n/**\r\n* Broadcasts event: \"slidy:evt\" → $doc, \"slidy:evt\" → $el, evt → area.opts\r\n* target - whether area or picker class\r\n*/\r\n//TODO\r\nfunction trigger(that, ename, data){\r\n\t//TODO: pass data to trigger events\r\n\t/*var prefixedEvt = [pluginName, \":\", evt].join('');\r\n\tif ($){\r\n\t\t$(that.$el).trigger(prefixedEvt);\r\n\t} else {\r\n\t\t//that.$el.dispatchEvent(new CustomEvent(prefixedEvt))\r\n\t}\r\n\tif (that.options && that.options[evt]){\r\n\t\tthat.options[evt].call(that, data);\r\n\t}\r\n\r\n\tvar event;\r\n\tif(document.createEvent){\r\n\t\tevent = document.createEvent('HTMLEvents');\r\n\t\tevent.initEvent(ename,true,true);\r\n\t}else if(document.createEventObject){// IE < 9\r\n\t\tevent = document.createEventObject();\r\n\t\tevent.eventType = ename;\r\n\t}\r\n\tevent.eventName = ename;\r\n\tif(target.dispatchEvent){\r\n\t\ttarget.dispatchEvent(event);\r\n\t}else if(target.fireEvent && htmlEvents['on'+eventName]){// IE < 9\r\n\t\ttarget.fireEvent('on'+event.eventType,event);// can trigger only real event (e.g. 'click')\r\n\t}else if(el[eventName]){\r\n\t\tel[eventName]();\r\n\t}else if(el['on'+eventName]){\r\n\t\tel['on'+eventName]();\r\n\t}*/\r\n}\r\n\r\n//math limiter\r\nfunction between(a, min, max){\r\n\treturn Math.max(Math.min(a,max),min);\r\n}\r\n\r\n\r\n//TODO\r\n//attr parser\r\nfunction data(el) {\r\n\tvar data = {}, v;\r\n\tfor (var prop in el.dataset){\r\n\t\tvar v;\r\n\t\tif (multiple) {\r\n\t\t\tv = el.dataset[prop].split(\",\");\r\n\t\t\tfor (var i = v.length; i--;){\r\n\t\t\t\tv[i] = recognizeValue(v[i].trim());\r\n\t\t\t\tif (v[i] === \"\") v[i] = null;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tv = recognizeValue(el.dataset[prop]);\r\n\t\t\tif (v === \"\") v[i] = true;\r\n\t\t}\r\n\r\n\t\tdata[prop] = v;\r\n\t}\r\n\treturn data;\r\n}\r\n\r\n//returns value from string with correct type\r\nfunction parseAttr(str){\r\n\tif (str === \"true\") {\r\n\t\treturn true;\r\n\t} else if (str === \"false\") {\r\n\t\treturn false;\r\n\t} else if (!isNaN(v = parseFloat(str))) {\r\n\t\treturn v;\r\n\t} else {\r\n\t\treturn str;\r\n\t}\r\n}\r\n\r\n\r\n//stupid prefix detector\r\nfunction detectCSSPrefix(){\r\n\tvar puppet = document.documentElement;\r\n\tvar style = document.defaultView.getComputedStyle(puppet, \"\");\r\n\tif (style.transform) return \"\";\r\n\tif (style[\"-webkit-transform\"]) return \"-webkit-\";\r\n\tif (style[\"-moz-transform\"]) return \"-moz-\";\r\n\tif (style[\"-o-transform\"]) return \"-o-\";\r\n\tif (style[\"-khtml-transform\"]) return \"-khtml-\";\r\n\treturn \"\";\r\n}\r\nvar cssPrefix = detectCSSPrefix();\r\n\r\n\r\n\r\n//TODO\r\n//bind element’s representation to component data\r\nfunction observeData(target, data){\r\n\t//keyed by param name listeners\r\n\tvar listeners = {},\r\n\t\tpropRe = /\\{\\{\\s([a-zA-Z_$][a-zA-Z_$0-9]*)\\s\\}\\}/;\r\n\r\n\t//TODO: catch every property met, replace with default value\r\n\r\n\t//TODO: gather attributes\r\n\tfor (var i = 0; i < target.attributes.length; i++){\r\n\t\tvar attrValue = target.attributes[i].value;\r\n\t\tvar propIdx = undefined;\r\n\r\n\t\t//grasp every value met\r\n\t\twhile ((propIdx = attrValue.indexOf(\"{{\")) >= 0){\r\n\t\t\tvar closeIdx = attrValue.indexOf(\"}}\");\r\n\t\t\tvar propName = attrValue.slice(propIdx + 2, closeIdx).trim();\r\n\r\n\t\t\t//set default value\r\n\t\t\ttarget.attributes[i].value = [\r\n\t\t\t\ttarget.attributes[i].value.slice(0, propIdx),\r\n\t\t\t\tdata[propName],\r\n\t\t\t\ttarget.attributes[i].value.slice(closeIdx, attrValue.length - 1)\r\n\t\t\t].join('');\r\n\r\n\t\t\tif (!listeners[propName]) listeners[propName] = [];\r\n\t\t\tlisteners[propName].push({\r\n\t\t\t\t//object where to make substitution\r\n\t\t\t\ttarget: target.attributes[i],\r\n\t\t\t\t//template which to use as basis for substisution\r\n\t\t\t\ttemplate: attrValue,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\t//TODO: save all harvested properties here\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\t//TODO: gather text children\r\n\tvar children = target.childNodes,\r\n\t\tl = children.length;\r\n\r\n\tfor (var i = 0; i < l; i++){\r\n\t\tvar child = children(i);\r\n\t\tif (child.nodeType === 1){\r\n\t\t\tif (propRe.test(child.texContent)){\r\n\t\t\t\t//split text node in place of property\r\n\t\t\t\tlisteners.push({\r\n\t\t\t\t\ttarget: child,\r\n\t\t\t\t\ttemplate: target.texContent\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t//TODO: track elements children\r\n\r\n\t//TODO: listen to the source change\r\n\tfor (var prop in listeners){\r\n\t\tvar listener = listeners[prop];\r\n\t\tdocument.addEventListener(prop + \"Changed\", function(e){\r\n\t\t\tvar value = e.target.value;\r\n\t\t\t//NOTE: once data-names've been replaced with values, you can’t no more track them\r\n\t\t\tfor (var i = 0; i < target.attributes.length; i++){\r\n\t\t\t\tvar attrName = target.attributes[i].name.replace();\r\n\t\t\t\tvar attrValue = target.attributes[i].value.replace();\r\n\t\t\t\tif (re.test(attrName)){\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//update attrs\r\n\t\t\t//update content\r\n\t\t})\r\n\t}\r\n\r\n\t//TODO: bind slider’s named properties to the document’s scope (publish them)\r\n}\r\n\r\n//finds the index of next one property\r\nfunction findPropertyToInsert(str){\r\n\tstr.indexOf()\r\n}","var $__placeholder__0 = $__placeholder__1","/**\r\n* Controller on the elements\r\n* Very similar to native elements\r\n*/\r\n\r\n//TODO: add document-level listener pluginName:event\r\n//TODO: think how should it work within components group, like active tab\r\n\r\nclass Component extends HTMLElement {\r\n\r\n\t//TODO: state criterias (visible/hidden) (active/inactive) (disabled/enabled) ...\r\n\t//TODO: state callbacks & declarative behaviour\r\n\t//TODO: adding states, declaratively\r\n\t//TODO: changing states through methods\r\n\r\n\t/**\r\n\t* Uses hack to extend native HTMLElement: swizzles element’s __proto__\r\n\t* It’s the only place where `this` isn’t actually an element.\r\n\t* All other methods use `this` as element reference\r\n\t*/\r\n\tconstructor (el, opts){\r\n\t\t//ensure element created\r\n\t\t//ensure DOM extensibility\r\n\t\t//read options (el/passed)\r\n\t\t//hook up events\r\n\t\t//bind API methods\r\n\t\t//init instance states\r\n\r\n\t\t//Substitute `this` with DOM element\r\n\t\t//TODO: get rid of that hack when native `extends HTMLElement` will work\r\n\t\tvar self;\r\n\t\tif (el instanceof HTMLElement) {\r\n\t\t\tself = el;\r\n\t\t} else {\r\n\t\t\tif (el){\r\n\t\t\t\topts = el;\r\n\t\t\t}\r\n\t\t\tself = document.createElement('div');\r\n\t\t}\r\n\r\n\t\t//Intrude into el's prototype chain\r\n\t\t//save original element’s prototype, like HTMLDivElement or whatever\r\n\t\tvar originalProto = self.__proto__;\r\n\t\t//`this` loses here\r\n\t\tself.__proto__ = this.constructor.prototype;\r\n\r\n\t\t//init options\r\n\t\tself.initOptions.call(self, opts);\r\n\r\n\t\t//keep track of instances;\r\n\t\tself._id = this.constructor.instances.length;\r\n\t\tthis.constructor.instances.push(self);\r\n\r\n\t\t//init state\r\n\t\tself.initStates.apply(self);\r\n\t\tself.state = 'default';\r\n\r\n\t\t//treat element\r\n\t\tself.classList.add(pluginName);\r\n\r\n\t\tself.trigger(\"create\")\r\n\t\t//console.log(self.getBoundingClientRect())\r\n\t\t//console.log(\"HTMLCustomElement constructor\")\r\n\t\treturn self;\r\n\t}\r\n\r\n\r\n\t//--------------Options\r\n\t//TODO: hook up getters and setters for options, to reflect instantly element-write\r\n\t//TODO: hook up attributeChanged listeners, to reflect values of attributes\r\n\t//TODO: keep callbacks\r\n\tinitOptions(extOpts){\r\n\t\t//read dataset attributes\r\n\r\n\t\t//for every instance option create attribute reflection\r\n\t\tfor (var key in extOpts){\r\n\t\t\tthis[key] = extOpts[key];\r\n\t\t}\r\n\r\n\t\t//register observers for data-attributes\r\n\t\tthis._observer = new MutationObserver(function(mutations) {\r\n\t\t\tfor (var i = 0; i < mutations.length; i++){\r\n\t\t\t\tvar mutation = mutations[i];\r\n\t\t\t\tif (mutation.type === \"attributes\"){\r\n\t\t\t\t\tvar attr = mutation.attributeName;\r\n\t\t\t\t\t//if option attr changed - upd self value\r\n\t\t\t\t\tif (this.constructor.defaults[attr]){\r\n\t\t\t\t\t\tthis[\"_\" + attr] = parseAttr(this.getAttribute(attr));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}.bind(this));\r\n\t\tthis._observeConfig = {\r\n\t\t\tattributes: true\r\n\t\t}\r\n\t\tthis._observer.observe(this, this._observeConfig);\r\n\t}\r\n\r\n\t/**\r\n\t* Gross attributes setter\r\n\t*/\r\n\tsetAttributes(opts){\r\n\t\tfor (var key in opts){\r\n\t\t\tthis[key] = opts[key]\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t* Get object settings\r\n\t*/\r\n\tgetAttributes(){\r\n\t\tvar result = {}\r\n\t\tfor (var key in this.defaults){\r\n\t\t\tresult[key] = this[key];\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\r\n\r\n\t//-----------------States\r\n\tget state(){\r\n\t\treturn this._state;\r\n\t}\r\n\tset state(newStateName){\r\n\t\tvar oldState = this.states[this._state];\r\n\t\tvar newState = this.states[newStateName] || this.states['default'];\r\n\t\tif (!newState) throw new Error(\"Not existing state `\" + newStateName + \"`\");\r\n\r\n\t\tconsole.log(\"Change state from `\" + this._state + \"` to `\" + newStateName + \"`\")\r\n\r\n\t\t//handle exit\r\n\t\tif (oldState) {\r\n\t\t\t//trigger exit\r\n\t\t\toldState.after && oldState.after.fn.call(this);\r\n\t\t\tthis.trigger(\"after\" + this._state[0].toUpperCase() + this._state.slice(1) + \"State\");\r\n\t\t\tthis.trigger(\"afterState\");\r\n\r\n\t\t\t//unbind old state events\r\n\t\t\tfor(var evt in oldState){\r\n\t\t\t\tvar stateEvt = oldState[evt]\r\n\t\t\t\toff(\r\n\t\t\t\t\tstateEvt.src,\r\n\t\t\t\t\tstateEvt.evt,\r\n\t\t\t\t\tstateEvt.fn\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//handle enter\r\n\t\t//trigger enter\r\n\t\tnewState.before && newState.before.fn.call(this);\r\n\t\tthis.trigger(\"before\" + newStateName[0].toUpperCase() + newStateName.slice(1) + \"State\");\r\n\t\tthis.trigger(\"beforeState\");\r\n\r\n\t\t//bind new state events\r\n\t\tfor(var evt in newState){\r\n\t\t\tvar stateEvt = newState[evt]\r\n\t\t\ton(\r\n\t\t\t\tstateEvt.src,\r\n\t\t\t\tstateEvt.evt,\r\n\t\t\t\tstateEvt.delegate,\r\n\t\t\t\tstateEvt.fn\r\n\t\t\t);\r\n\r\n\t\t\t//console.log(stateEvt)\r\n\t\t}\r\n\r\n\t\tthis._state = newStateName;\r\n\t}\r\n\r\n\t/**\r\n\t* Instance states initilizer\r\n\t* Binds functions, recognizes objects to call\r\n\t* States parsed to object like\r\n\t* { state: { event: [src, delegate, fn], event: [src, delegate, fn], ... } }\r\n\t*/\r\n\tinitStates(states){\r\n\t\tvar protoStates = this.constructor.prototype.states;\r\n\t\tthis.states = {};\r\n\r\n\t\tfor (var stateName in protoStates){\r\n\t\t\t//create instance state based on proto states\r\n\t\t\tvar protoState = protoStates[stateName],\r\n\t\t\t\tinstanceState = {};\r\n\r\n\t\t\t//recognize events strings: src, evt, delegate\r\n\t\t\t//possible evt id:\r\n\t\t\t//`on('[document|window]? super:event .something > .which > is > #listening', fn)`\r\n\t\t\t//console.log(\"bind state\", stateName , protoState)\r\n\t\t\tfor (var evtId in protoState){\r\n\t\t\t\tvar evt = undefined, src = undefined, delegate = undefined, fn = undefined;\r\n\r\n\t\t\t\tvar evtParams = evtId.split(\" \"),\r\n\t\t\t\t\tfnRef = protoState[evtId];\r\n\r\n\t\t\t\t//detect source\r\n\t\t\t\tif (evtParams[0] === 'document'){\r\n\t\t\t\t\tsrc = document;\r\n\t\t\t\t\tevtParams = evtParams.slice(1);\r\n\t\t\t\t} else if (evtParams[0] === 'window'){\r\n\t\t\t\t\tsrc = window\r\n\t\t\t\t\tevtParams = evtParams.slice(1);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsrc = this;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//detect evt name\r\n\t\t\t\tevt = evtParams[0];\r\n\r\n\t\t\t\t//is there delegatees?\r\n\t\t\t\tdelegate = evtParams.slice(1).join('');\r\n\r\n\t\t\t\t//bind fn\r\n\t\t\t\tif (typeof fnRef === \"function\")\r\n\t\t\t\t\tfn = fnRef.bind(this);\r\n\t\t\t\telse if (typeof fnRef === \"string\")\r\n\t\t\t\t\tfn = function(){ this._state = fnRef }.bind(this);\r\n\t\t\t\t//console.log(evt, fnRef, fn)\r\n\r\n\t\t\t\t//collect class instance state\r\n\t\t\t\tif (fn && evt){\r\n\t\t\t\t\tinstanceState[evt] = {\r\n\t\t\t\t\t\tevt: evt,\r\n\t\t\t\t\t\tsrc: src,\r\n\t\t\t\t\t\tdelegate: delegate,\r\n\t\t\t\t\t\tfn: fn\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//console.log(\"state\", instanceState)\r\n\t\t\tthis.states[stateName] = instanceState;\r\n\r\n\r\n\t\t}\r\n\t\t//console.log(\"States\", this.states)\r\n\t}\r\n\r\n\r\n\r\n\t/**\r\n\t* Common component behaviour - enabled/disabled\r\n\t*/\r\n\tdisable(){\r\n\t\tthis.disabled = true;\r\n\t\t_observer.disconnect();\r\n\t}\r\n\tenable(){\r\n\t\tthis.disabled = false;\r\n\t\t_observer.observe(this, this._observeConfig)\r\n\t}\r\n\tset disabled(val){\r\n\t\tif (val) {\r\n\t\t\tthis.setAttribute(\"disabled\", true);\r\n\t\t\tthis.disabled = true;\r\n\t\t} else {\r\n\t\t\tthis.removeAttribute(\"disabled\")\r\n\t\t\tthis.disabled = false;\r\n\t\t}\r\n\t}\r\n\tget disabled(){\r\n\t\treturn this.disabled;\r\n\t}\r\n\r\n\t/**\r\n\t* Utils\r\n\t*/\r\n\tpreventDefault(e){\r\n\t\te.preventDefault()\r\n\t}\r\n\r\n\r\n\t//----------------------Events\r\n\t//as jquery one does\r\n\taddOnceListener(evt, fn){\r\n\t\tthis.addEventListener(evt, function(){\r\n\t\t\tfn.apply(this);\r\n\t\t\tthis.removeEventListener(evt, fn)\r\n\t\t}.bind(this))\r\n\t}\r\n\r\n\t//as jquery delegate does\r\n\tdelegateListener(evt, delegate, fn){\r\n\t\tif (typeof delegate === 'string'){\r\n\t\t\tdelegate = this.querySelectorAll(delegate)\r\n\t\t} else if (delegate instanceof Element){\r\n\t\t\tdelegate = [delegate]\r\n\t\t} else if (delegate instanceof NodeList || delegate instanceof Array) {\r\n\r\n\t\t} else {\r\n\t\t\tdelegate = [this];\r\n\t\t}\r\n\r\n\t\tthis.addEventListener(evt, function(e){\r\n\t\t\tif (delegate.indexOf(e.currentTarget) >= 0) {\r\n\t\t\t\tfn.call(this, e);\r\n\t\t\t}\r\n\t\t}.bind(this))\r\n\t}\r\n\r\n\t//broadcaster\r\n\ttrigger(eName, data){\r\n\t\t//TODO: handle jQuery-way, if there is such\r\n\t\t//TODO: pass data\r\n\t\t//TODO: ie’s work\r\n\t\t//TODO: options callbacks\r\n\t\t//TODO: call document specific call\r\n\t\t//trigger()\r\n\t\tvar event = new CustomEvent(eName, data)\r\n\t\tif (this['on' + eName]) this['on' + eName].apply(this, event);\r\n\t\tthis.dispatchEvent(event);\r\n\t}\r\n\r\n\r\n\t//------------------------------Behaviour\r\n\tenable (){\r\n\t\tthis.disabled = false;\r\n\t\tthis.trigger('disable');\r\n\t}\r\n\r\n\tdisable (){\r\n\t\tthis.disabled = true;\r\n\t\tthis.trigger('enable')\r\n\t}\r\n\r\n\r\n\r\n\t//-------------------------Autolaunch\r\n\t//register descedant, make it autoload, call additional init (custom feature-detection etc)\r\n\tstatic registerComponent(constructor, cb){\r\n\t\t//check whether component exists\r\n\t\tif (Component.registry[constructor.name]) throw new Error(\"Component `\" + Component.name + \"` does already exist\");\r\n\r\n\t\t//save to registry\r\n\t\tComponent.registry[constructor.name] = constructor;\r\n\r\n\t\t//keep track of instances\r\n\t\tconstructor.instances = [];\r\n\t\tconstructor.preinit = cb;\r\n\r\n\t\t//init default options as prototype getters/setters with trigger\r\n\t\tvar propsDescriptor = {};\r\n\t\tfor (var key in constructor.defaults){\r\n\t\t\t//make defaults - prototypical properties\r\n\t\t\tconstructor.prototype[\"_\" + key] = constructor.defaults[key];\r\n\r\n\t\t\t//make instance getter/setters\r\n\t\t\tvar get = (function(key){\r\n\t\t\t\treturn function(){\r\n\t\t\t\t\treturn this['_' + key]\r\n\t\t\t\t}\r\n\t\t\t})(key)\r\n\r\n\t\t\tvar set = (function(key){\r\n\t\t\t\treturn function(value){\r\n\t\t\t\t\tthis['_' + key ] = value;\r\n\t\t\t\t\tthis.setAttribute(key, value);\r\n\t\t\t\t\tthis.trigger(\"optionChanged\")\r\n\t\t\t\t\tthis.trigger(value + \"Changed\")\r\n\t\t\t\t}\r\n\t\t\t})(key)\r\n\r\n\t\t\tpropsDescriptor[key] = {\r\n\t\t\t\t//do not delete default properties\r\n\t\t\t\tconfigurable: false,\r\n\t\t\t\t//do not enumerate non-instance properties\r\n\t\t\t\tenumerable: false,\r\n\t\t\t\tget: get,\r\n\t\t\t\tset: set\r\n\t\t\t}\r\n\t\t}\r\n\t\tObject.defineProperties(constructor.prototype, propsDescriptor);\r\n\t}\r\n\r\n}\r\n\r\n//Keyed by name set of components\r\nComponent.registry = {}\r\n\r\n//Autolaunch registered components when document is ready\r\ndocument.addEventListener(\"DOMContentLoaded\", function(){\r\n\tfor (var name in Component.registry){\r\n\t\tvar Descendant = Component.registry[name];\r\n\r\n\t\t//make callbacks, if any\r\n\t\tDescendant.preinit && Descendant.preinit.apply(Descendant);\r\n\r\n\t\tvar lname = name.toLowerCase(),\r\n\t\t\tselector = [\"[\", lname, \"], [data-\", lname, \"], .\", lname, \"\"].join(\"\");\r\n\r\n\t\t//init all elements in DOM\r\n\t\tvar targets = document.querySelectorAll(selector);\r\n\t\tfor (var i = 0; i < targets.length; i++){\r\n\t\t\tnew Descendant(targets[i]);\r\n\t\t}\r\n\t}\r\n})\r\n//init every element [classname], [data-classname] or .classname","var $__placeholder__0 = $__placeholder__1","($traceurRuntime.createClass)($__placeholder__0, $__placeholder__1, $__placeholder__2,\n                                       $__placeholder__3)","class Draggable extends Component {\r\n\tconstructor(el, opts){\r\n\t\tvar self = super(el, opts);\r\n\r\n\t\t//init position\r\n\t\t//TODO: detect initial transformation\r\n\t\tself._x = 0;\r\n\t\tself._y = 0;\r\n\r\n\t\t//handle CSSs\r\n\t\tself.style[cssPrefix + \"user-select\"] = \"none\";\r\n\t\tself.style[cssPrefix + \"user-drag\"] = \"none\";\r\n\r\n\t\tif (self.native) {\r\n\t\t\tself.state = \"native\";\r\n\t\t}\r\n\r\n\t\tconsole.dir(self)\r\n\r\n\t\treturn self;\r\n\t}\r\n\r\n\t//-------------------API (verbs)\r\n\tstartDrag(e){\r\n\t\t//init dragstate\r\n\t\tvar offsets = offsetBox(this);\r\n\t\tthis.dragstate = {\r\n\t\t\tclientX: e.clientX,\r\n\t\t\tclientY: e.clientY,\r\n\t\t\toffsetX: e.offsetX,\r\n\t\t\toffsetY: e.offsetY\r\n\t\t};\r\n\t\t//this.trigger('dragstart')\r\n\r\n\t\tthis.state = \"drag\";\r\n\t}\r\n\r\n\tdrag(e) {\r\n\t\tconsole.log(\"drag\")\r\n\t\tvar d = this.dragstate;\r\n\r\n\t\tvar difX = e.clientX - d.clientX;\r\n\t\tvar difY = e.clientY - d.clientY;\r\n\r\n\t\t//capture dragstate\r\n\t\td.isCtrl = e.ctrlKey;\r\n\t\tif (e.ctrlKey) {\r\n\t\t\t//d.difX *= this.options.sniperSpeed;\r\n\t\t\t//d.difY *= this.options.sniperSpeed;\r\n\t\t}\r\n\t\td.clientX = e.clientX;\r\n\t\td.clientY = e.clientY;\r\n\r\n\t\tthis.x += difX;\r\n\t\tthis.y += difY;\r\n\r\n\t\t//this.trigger('drag');\r\n\t}\r\n\r\n\tstopDrag(e){\r\n\t\tconsole.log(\"stopDrag\")\r\n\t\t//this.trigger('dragstop');\r\n\r\n\t\tdelete this.dragstate;\r\n\r\n\t\tthis.state = \"default\"\r\n\t}\r\n\r\n\tget x(){\r\n\t\treturn this._x\r\n\t}\r\n\tset x(x){\r\n\t\tthis._x = x;\r\n\t\tthis.style[cssPrefix + \"transform\"] = [\"translate3d(\", this._x, \"px,\", this._y, \"px, 0)\"].join(\"\");\r\n\t}\r\n\tget y(){\r\n\t\treturn this._y\r\n\t}\r\n\tset y(y){\r\n\t\tthis._y = y;\r\n\t\tthis.style[cssPrefix + \"transform\"] = [\"translate3d(\", this._x, \"px,\", this._y, \"px, 0)\"].join(\"\");\r\n\t}\r\n}\r\n\r\n\r\n//--------------------------States\r\n//every state is a set of events to bind to API\r\nDraggable.prototype.states = {\r\n\t//non-native drag\r\n\t'default': {\r\n\t\tbefore: null,\r\n\t\tafter: null,\r\n\r\n\t\t'mousedown': Draggable.prototype.startDrag\r\n\t},\r\n\tdrag: {\r\n\t\t//transition events\r\n\t\tbefore: null,\r\n\t\tafter: null,\r\n\r\n\t\t//TODO: how to bind fns to instance?\r\n\t\t//the only way to do that is on the instance  itself\r\n\t\t'document selectstart': Draggable.prototype.preventDefault,\r\n\t\t'document mousemove': Draggable.prototype.drag,\r\n\t\t'document mouseup': Draggable.prototype.stopDrag,\r\n\t\t'document mouseleave': Draggable.prototype.stopDrag\r\n\t},\r\n\tscroll: {\r\n\r\n\t},\r\n\ttech: {\r\n\r\n\t},\r\n\tout: {\r\n\r\n\t},\r\n\r\n\t//native drag\r\n\tnative: {\r\n\t\tbefore: function(){\r\n\t\t\tthis.style[cssPrefix + \"user-drag\"] = \"element\";\r\n\t\t},\r\n\t\tafter: function(){\r\n\t\t\tthis.style[cssPrefix + \"user-drag\"] = \"none\";\r\n\t\t},\r\n\t\t'dragstart': null,\r\n\t\t'dragend': null\r\n\t}\r\n}\r\n\r\n//Should it be of the prototype or static?\r\n//Prototype: + call by `this.defaults` +\r\nDraggable.defaults = {\r\n\ttreshold: 10,\r\n\r\n\tautoscroll: false,\r\n\r\n\t//null is no restrictions\r\n\twithin: document,\r\n\r\n\tgroup: null,\r\n\r\n\tghost: false,\r\n\r\n\ttranslate: true,\r\n\r\n\tsniper: false,\r\n\r\n\t//use native drag\r\n\t//Careful: you can’t use other options and change image dynamically\r\n\tnative: false\r\n}\r\n\r\n//TODO: implement default change method\r\n\r\n//Bind autoload & feature detection\r\nComponent.registerComponent(Draggable, function(){\r\n\t//detect native drag\r\n\tvar div = document.createElement(\"div\")\r\n\tthis.isNativeSupported = ('draggable' in div) || ('ondragstart' in div && 'ondrop' in div);\r\n})","$traceurRuntime.superCall($__placeholder__0,\n                                                      $__placeholder__1,\n                                                      $__placeholder__2,\n                                                      $__placeholder__3)","/* container class */\r\nclass Area extends Component{\r\n\r\n\tstatic get defaults(){\r\n\t\treturn {\r\n\t\t\t//pickers: 1, //could be custom pickers passed, each with it’s own settings\r\n\r\n\t\t\t//shape: \"\", //triangle, circular, SVG-shape in basic case; 2d/1d is different classifier\r\n\t\t\treadonly: false, //no events\r\n\t\t\tsniperSpeed: 0.25, //sniper key slowing down amt\r\n\r\n\t\t\t//classes\r\n\t\t\tdragClass: \"dragging\",\r\n\r\n\t\t\t//callbacks\r\n\t\t\toncreate: null,\r\n\t\t\tondragstart: null,\r\n\t\t\tondrag: null,\r\n\t\t\tondragstop: null,\r\n\t\t\tondestroy: null,\r\n\t\t\tonchange: null, //picker callback\r\n\r\n\r\n\t\t\t//HTML5 settings\r\n\t\t\tmin: 0,\r\n\t\t\tmax: 100,\r\n\t\t\tvalue: 50,\r\n\t\t\tstep: 1\r\n\t\t}\r\n\t}\r\n\r\n\tconstructor(el, opts){\r\n\t\tvar self = super(el, opts)\r\n\r\n\t\t//update element size\r\n\t\t//this.captureSize();\r\n\r\n\t\t//create picker(s)\r\n\t\tself.pickers = [];\r\n\t\tvar children = self.querySelectorAll(\"[data-picker]\"),\r\n\t\t\tl = children.length,\r\n\t\t\tpNum = 0;\r\n\r\n\t\t//recognize inner elements as pickers\r\n\t\tif (l > 0){\r\n\t\t\tfor (var i = 0; i<l; i++){\r\n\t\t\t\tself.addPicker(children.item(i))\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//TODO: append missing number of pickers\r\n\t\tvar pNum = 0;\r\n\t\tfor (var i = 0; i < pNum; i++){\r\n\t\t\tvar el = document.createElement(\"div\"); //TODO\r\n\t\t\tself.addPicker(el, o.pickers[i]);\r\n\t\t}\r\n\r\n\t\t//init drag state object\r\n\t\tself.dragstate = {\r\n\t\t\tinitX:0,\r\n\t\t\tinitY:0,\r\n\t\t\tx: 0,\r\n\t\t\ty: 0,\r\n\t\t\tdifX: 0,\r\n\t\t\tdifY: 0,\r\n\t\t\tclientX: 0,\r\n\t\t\tclientY: 0,\r\n\t\t\tbox: {},\r\n\t\t\tarea: self,\r\n\t\t\tisCtrl: false,\r\n\t\t\tpicker: null //current picker to drag\r\n\t\t};\r\n\r\n\t\tself._listenEvents();\r\n\r\n\t\t//TODO: make universal trigger: jquery/chrome/ie/etc compatible\r\n\t\t//self.dispatchEvent(new CustomEvent(\"create\"));\r\n\t\treturn self;\r\n\t}\r\n\r\n\t//keep that’s offsetBox updated\r\n\tcaptureSize(){\r\n\t\tself.offsetBox = getOffsetBox(self);\r\n\t\tself.paddingBox = getPaddingBox(self);\r\n\t}\r\n\r\n\t//add new picker\r\n\taddPicker(el){\r\n\t\t//prevent adding new filter\r\n\t\tthis.pickers.push(new Picker(el, this));\r\n\t}\r\n\r\n\t_listenEvents(){\r\n\t\tvar o = this.options;\r\n\r\n\t\t//bind cb’s to this\r\n\t\tthis._dragstart = this._dragstart.bind(this);\r\n\t\tthis._drag = this._drag.bind(this);\r\n\t\tthis._dragstop = this._dragstop.bind(this);\r\n\r\n\t\tthis.addEventListener(\"mousedown\", this._dragstart);\r\n\r\n\t\ton(window, \"resize\", function(){\r\n\t\t\tself._captureSize();\r\n\t\t\tself.updatePickers();\r\n\t\t});\r\n\t}\r\n\r\n\t_dragstart(e){\r\n\t\tvar o = this.options;\r\n\r\n\t\tthis._captureSize();\r\n\r\n\t\t//init dragstate\r\n\t\tthis.dragstate.x = e.clientX - this.offsetBox.left;\r\n\t\tthis.dragstate.y = e.clientY - this.offsetBox.top;\r\n\t\tthis.dragstate.clientX = e.clientX;\r\n\t\tthis.dragstate.clientY = e.clientY;\r\n\t\tthis.dragstate.picker = this.findClosestPicker(this.dragstate.x, this.dragstate.y);\r\n\r\n\t\t//init box\r\n\t\tthis.dragstate.box.top = this.offsetBox.top + this.paddingBox.top;\r\n\t\tthis.dragstate.box.left = this.offsetBox.left + this.paddingBox.left;\r\n\t\tthis.dragstate.box.right = this.offsetBox.right - this.paddingBox.right;\r\n\t\tthis.dragstate.box.bottom = this.offsetBox.bottom - this.paddingBox.bottom;\r\n\t\tthis.dragstate.box.width = this.offsetBox.width - this.paddingBox.left - this.paddingBox.right;\r\n\t\tthis.dragstate.box.height = this.offsetBox.height - this.paddingBox.top - this.paddingBox.bottom;\r\n\r\n\r\n\t\tthis._captureDragstate(this.dragstate, e);\r\n\r\n\t\tthis.classList.add(this.options.dragClass);\r\n\r\n\t\tthis.dragstate.picker.dragstart(this.dragstate);\r\n\t\t//this.dragstate.picker.startTracking();\r\n\t\t//this.dispatchEvent(new CustomEvent(\"dragstart\", this.dragstate))\r\n\t\t//this.dispatchEvent(new CustomEvent(\"change\", this.dragstate))\r\n\r\n\t\t//bind moving\r\n\t\ton(document, \"selectstart\", prevent);\r\n\t\ton(document, \"mousemove\", this._drag);\r\n\t\ton(document, \"mouseup\", this._dragstop);\r\n\t\ton(document, \"mouseleave\", this._dragstop);\r\n\t}\r\n\r\n\t_drag(e){\r\n\t\t//NOTE: try not finding out picker offset throught style/etc, instead, update it’s coords based on event obtained\r\n\t\tvar o = this.options;\r\n\r\n\t\tthis._captureDragstate(this.dragstate, e);\r\n\r\n\t\tthis.dragstate.picker.drag(this.dragstate);\r\n\t\t//this.dispatchEvent(new CustomEvent(\"drag\", this.dragstate))\r\n\t\t//this.dispatchEvent(new CustomEvent(\"change\", this.dragstate))\r\n\t}\r\n\r\n\t_dragstop(e){\r\n\t\tthis._drag(e);\r\n\r\n\t\tthis.dragstate.picker.dragstop(this.dragstate);\r\n\r\n\t\t//this.dispatchEvent(new CustomEvent(\"dragstop\", this.dragstate));\r\n\t\t//this.dragstate.picker.stopTracking();\r\n\r\n\t\tthis.classList.remove(this.options.dragClass);\r\n\r\n\t\t//unbind events\r\n\t\toff(document,\"selectstart\", this._prevent);\r\n\t\toff(document,\"mousemove\", this._drag);\r\n\t\toff(document,\"mouseup\", this._dragstop);\r\n\t\toff(document,\"mouseleave\", this._dragstop);\r\n\t}\r\n\r\n\t//get picker closest to the passed coords\r\n\tfindClosestPicker(x, y){\r\n\t\tvar minL = 9999, closestPicker;\r\n\t\tfor (var i = 0; i < this.pickers.length; i++){\r\n\t\t\tvar picker = this.pickers[i],\r\n\t\t\t\tw = x - picker.x,\r\n\t\t\t\th = y - picker.y,\r\n\t\t\t\tl = Math.sqrt(w*w + h*h);\r\n\r\n\t\t\tif (l < minL){\r\n\t\t\t\tminL = l;\r\n\t\t\t\tclosestPicker = i;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this.pickers[closestPicker];\r\n\t}\r\n\r\n\t//set pickers reflect their’s real values\r\n\tupdatePickers(){\r\n\t\tfor (var i = 0; i < this.pickers.length; i++){\r\n\t\t\t//this.pickers[i].update();\r\n\t\t}\r\n\t}\r\n\r\n\t//keep that’s offsetBox updated\r\n\t_captureSize(){\r\n\t\tthis.offsetBox = getOffsetBox(this);\r\n\t\tthis.paddingBox = getPaddingBox(this);\r\n\t}\r\n\r\n\t//updates dragstate based on event\r\n\t_captureDragstate(dragstate, e){\r\n\t\tdragstate.isCtrl = e.ctrlKey;\r\n\t\tdragstate.difX = e.clientX - dragstate.clientX;\r\n\t\tdragstate.difY = e.clientY - dragstate.clientY;\r\n\t\tif (e.ctrlKey) {\r\n\t\t\tdragstate.difX *= this.options.sniperSpeed;\r\n\t\t\tdragstate.difY *= this.options.sniperSpeed;\r\n\t\t}\r\n\t\tdragstate.x += dragstate.difX;\r\n\t\tdragstate.y += dragstate.difY;\r\n\t\tdragstate.clientX = e.clientX;\r\n\t\tdragstate.clientY = e.clientY;\r\n\t}\r\n}","/* Picker class - a picker controller.\r\nMoved out to the external class because of has too much own properties.\r\nNOTE: experimental class architecture:\r\n- options are kept right on the element itself, w/o options object\r\n- any option can be comma-separated list, cause picker may change matrix, not one value\r\n- that way, every function working with value should handle array on input, not the single value\r\n*/\r\nclass Picker extends Component{\r\n\tconstructor(el, area, opts){\r\n\t\tvar self = super(el, opts);\r\n\r\n\t\t//TODO: detect if no area passed\r\n\t\tself.area = area;\r\n\r\n\t\t//TODO: (make initial coords centered) → move to initial coords\r\n\t\t//self.left = Math.round(self.area.center.x);\r\n\t\t//self.top = Math.round(self.area.center.y);\r\n\r\n\t\t//causes update\r\n\t\t/*Object.defineProperty(self, \"value\", {\r\n\t\t\tget: function(){return value},\r\n\t\t\tset: function(vector){\r\n\t\t\t\tvalue = vector;\r\n\t\t\t\tself.update();\r\n\t\t\t},\r\n\t\t\tenumerable: true,\r\n\t\t\tconfigurable: true\r\n\t\t})\r\n\t\tself.value = 0//o.value*/\r\n\r\n\t\t//the only value that picker keeps - self values\r\n\t\tself.x = 0//self.options.x;\r\n\t\tself.y = 0//self.options.y;\r\n\r\n\t\tself.offsetBox = getOffsetBox(self);\r\n\r\n\t\t//binder\r\n\t\tself.drag = self.drag.bind(self);\r\n\t\tself.dragstart = self.dragstart.bind(self);\r\n\t\tself.dragstop = self.dragstop.bind(self);\r\n\r\n\r\n\t\treturn self;\r\n\t}\r\n\r\n\r\n\t/*public options = {\r\n\t\tx: 0,\r\n\t\ty: 0,\r\n\t\thorizontal: true,\r\n\t\tvertical: false,\r\n\t\t//repeatX: false,\r\n\t\t//repeatY: false\r\n\t\t//snap: false, //snap value to the grid\r\n\t\t//repeat: false, //whether to rotate infinity or cycle h/v scroll\r\n\t};*/\r\n\r\n\t//begin observing area\r\n\tstartTracking(){\r\n\t\tthis.area.addEventListener(\"dragstart\", this.dragstart);\r\n\t\tthis.area.addEventListener(\"change\", this.change);\r\n\t\tthis.offsetBox = getOffsetBox(this);\r\n\t}\r\n\r\n\t//stop observing area\r\n\tstopTracking(){\r\n\t\tthis.area.removeEventListener(\"dragstart\", this.dragstart);\r\n\t\tthis.area.removeEventListener(\"change\", this.change);\r\n\t}\r\n\r\n\t//\r\n\tdragstart(state){\r\n\t\t//get offset coords within thumb\r\n\t\tthis.initOffsetX = this.offsetBox.left - state.x;\r\n\t\tthis.initOffsetY = this.offsetBox.top - state.y;\r\n\t\tthis.offsetBox = getOffsetBox(this);\r\n\r\n\t\t//if click is out of thumb - move thumb to that place\r\n\t\t//if (!isIn(state, this.offsetBox)){\r\n\r\n\t\t//}\r\n\t}\r\n\r\n\t//change tracker\r\n\tdrag(state){\r\n\t\tvar x = between(state.x - this.initOffsetX, 0, state.box.width - this.offsetBox.width);\r\n\t\tvar y = between(state.y - this.initOffsetY, 0, state.box.height - this.offsetBox.height);\r\n\r\n\t\ttrigger(this, \"change\", [x,y]);\r\n\t\tthis.move(x, y);\r\n\t}\r\n\r\n\tdragstop(){\r\n\r\n\t}\r\n\r\n\t//just move picker to the relative coords\r\n\tmove(x, y, nX, nY){\r\n\t\t//TODO: centrize picker\r\n\r\n\t\tthis.style[cssPrefix + \"transform\"] = [\"translate3d(\", x, \"px,\", y, \"px, 0)\"].join(\"\");\r\n\t}\r\n\r\n\r\n\taddEventListener(evt, fn){\r\n\t\taddEventListenerTo(this, evt, fn)\r\n\t}\r\n\r\n\t//returns value from current coords\r\n\t_calcValue(x, y){\r\n\t\tvar o = this.options,\r\n\t\t\tl = 0; //length of the value [0..1]\r\n\t\t\t//TODDO: calc multiple pickers\r\n\r\n\t\t//get normalized(not necessary) value\r\n\t\tl = this.mapToL();\r\n\r\n\t\t//apply transfer function\r\n\t\treturn this.transferLToValue(l, this);\r\n\t}\r\n\r\n\t//Transfers - transforms normalized l passed to the target value and vice-versa\r\n\t//return l from value\r\n\ttransferValueToL(value){\r\n\t\tvar l = [], o = this.options;\r\n\t\tfor (var i = 0; i < this.dimensions; i++){\r\n\t\t\tvar min = o.min[i],\r\n\t\t\t\tmax = o.max[i]\r\n\t\t\tl[i] = (value[i] - min) / (max - min);\r\n\t\t}\r\n\t\treturn l;\r\n\t}\r\n\r\n\t//return value from L\r\n\ttransferLToValue(l){\r\n\t\tvar v = [],\r\n\t\t\to = this.options;\r\n\t\tfor (var i = 0; i < this.dimensions; i++){\r\n\t\t\tvar min = o.min[i],\r\n\t\t\t\tmax = o.max[i];\r\n\t\t\tv[i] = l[i] * (max - min) + (min);\r\n\t\t}\r\n\t\treturn v;\r\n\t}\r\n\r\n\r\n\t//Transforms picker & element coordinates to l.\r\n\t//l is normalized value [0..1] reflecting picker position within the area.\r\n\t//Area can be an SVG of any shape or element\r\n\tmapToL(){\r\n\t\tvar l = [],\r\n\t\t\to = this.options,\r\n\t\t\tarea = this.area;\r\n\t\tfor (var i = 0; i < this.dimensions; i++){\r\n\t\t\tvar direction = o.direction[i];\r\n\t\t\tswitch(o.direction[i]){\r\n\t\t\t\tcase \"top\":\r\n\t\t\t\t\tl[i] = (1 - this.top / area.height);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"bottom\":\r\n\t\t\t\t\tl[i] = (this.top / area.height);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"left\":\r\n\t\t\t\t\tl[i] = (1 - this.left / area.width);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"right\":\r\n\t\t\t\t\tl[i] = (this.left / area.width);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault: //degrees case\r\n\t\t\t\t\t//TODO: calc degrees\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn l;\r\n\t}\r\n\tmapFromL(l){\r\n\t\tvar o = this.options;\r\n\r\n\t\tfor (var i = 0; i < this.dimensions; i++){\r\n\t\t\tvar direction = o.direction[i];\r\n\t\t\tswitch (direction[i]){\r\n\t\t\t\tcase \"top\":\r\n\t\t\t\t\tthis.top = Math.round((1-l[i]) * this.area.height);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"bottom\":\r\n\t\t\t\t\tthis.top = Math.round(l[i] * this.area.height);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"right\":\r\n\t\t\t\t\tthis.left = Math.round((l[i]) * this.area.width);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"left\":\r\n\t\t\t\t\tthis.left = Math.round((1-l[i]) * this.area.width);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nPicker.defaults = {\r\n\tspecial: true\r\n}"]}