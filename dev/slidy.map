{"version":3,"file":"slidy.js","sources":["../src/util.js","@traceur/generated/TemplateParser/0","../src/Component.js","@traceur/generated/TemplateParser/1","../src/Area.js","@traceur/generated/TemplateParser/2","@traceur/generated/TemplateParser/3","../src/Picker.js"],"names":[],"mappings":"AAEK,GAAA,WAAA,EAAa,QAAA;AAAS,KAAA;AAK3B,QAAS,OAAA,CAAO,CAAA,CAAE;AACjB,KAAA,EAAS,GAAA,EAAA,EAAI,EAAA;AAAG,OAAA,EAAI,UAAA,CAAA,MAAA,CAAkB,EAAA,EAAE,EAAA,CAAG,EAAA,EAAA,CAAI;AAC1C,OAAA,EAAA,EAAI,UAAA,CAAU,CAAA,CAAA;AAClB,OAAA,EAAS,GAAA,EAAA,GAAK,EAAA,CAAE;AACf,OAAA,CAAE,CAAA,CAAA,EAAK,EAAA,CAAE,CAAA,CAAA;AAAA;AAAA;AAGX,QAAO,EAAA;AAAA;AAIR,QAAS,gBAAA,CAAgB,CAAC;AACrB,KAAA,OAAA,EAAS,SAAA,CAAA,eAAA;AACT,KAAA,MAAA,EAAQ,SAAA,CAAA,WAAA,CAAA,gBAAqC,CAAC,MAAA,CAAQ,GAAA,CAAA;AAC1D,IAAA,EAAI,KAAA,CAAA,SAAA,CAAiB,OAAO,GAAA;AAC5B,IAAA,EAAI,KAAA,CAAM,mBAAA,CAAA,CAAsB,OAAO,WAAA;AACvC,IAAA,EAAI,KAAA,CAAM,gBAAA,CAAA,CAAmB,OAAO,QAAA;AACpC,IAAA,EAAI,KAAA,CAAM,cAAA,CAAA,CAAiB,OAAO,MAAA;AAClC,IAAA,EAAI,KAAA,CAAM,kBAAA,CAAA,CAAqB,OAAO,UAAA;AACtC,QAAO,GAAA;AAAA;AAIR,QAAS,MAAA,CAAM,CAAA,CAAG,IAAA,CAAK,IAAA,CAAI;AAC1B,QAAO,KAAA,CAAA,GAAQ,CAAC,GAAA,CAAK,KAAA,CAAA,GAAQ,CAAC,GAAA,CAAK,EAAA,CAAA,CAAA;AAAA;AAIpC,QAAS,oBAAA,CAAoB,EAAA,CAAI,SAAA,CAAU;AACtC,KAAA,KAAA,EAAO,EAAA,CAAA;AAAI,OAAA;AACf,KAAA,EAAS,GAAA,KAAA,GAAQ,GAAA,CAAA,OAAA,CAAW;AACvB,OAAA,EAAA;AACJ,MAAA,EAAI,QAAA,CAAU;AACb,OAAA,EAAI,GAAA,CAAA,OAAA,CAAW,IAAA,CAAA,CAAA,KAAW,CAAC,GAAA,CAAA;AAC3B,SAAA,EAAS,GAAA,EAAA,EAAI,EAAA,CAAA,MAAA,CAAU,EAAA,EAAA,CAAA,CAAK;AAC3B,SAAA,CAAE,CAAA,CAAA,EAAK,eAAc,CAAC,CAAA,CAAE,CAAA,CAAA,CAAA,IAAO,CAAA,CAAA,CAAA;AAC/B,UAAA,EAAI,CAAA,CAAE,CAAA,CAAA,IAAO,GAAA,CAAI,EAAA,CAAE,CAAA,CAAA,EAAK,KAAA;AAAA;AAAA,KAAA,KAEnB;AACN,OAAA,EAAI,eAAc,CAAC,EAAA,CAAA,OAAA,CAAW,IAAA,CAAA,CAAA;AAC9B,QAAA,EAAI,CAAA,IAAM,GAAA,CAAI,EAAA,CAAE,CAAA,CAAA,EAAK,KAAA;AAAA;AAGtB,QAAA,CAAK,IAAA,CAAA,EAAQ,EAAA;AAAA;AAEd,QAAO,KAAA;AAAA;AAIR,QAAS,aAAA,CAAa,GAAA,CAAI;AACrB,KAAA,IAAA,EAAM,IAAA,CAAA,qBAAyB,CAAA,CAAA;AACnC,KAAA,CAAA,MAAA,EAAY,IAAA,CAAA,YAAA;AACZ,KAAA,CAAA,KAAA,EAAW,IAAA,CAAA,WAAA;AACX,KAAA,CAAA,MAAA,EAAY,EAAC,GAAA,CAAA,KAAA,EAAY,IAAA,CAAK,IAAA,CAAA,MAAA,EAAa,IAAA,CAAA;AAC3C,QAAO,IAAA;AAAA;AAGR,QAAS,cAAA,CAAc,GAAA,CAAI;AACtB,KAAA,IAAA,EAAM,EAAA,CAAA;AACT,WAAA,EAAQ,iBAAgB,CAAC,GAAA,CAAA;AAE1B,KAAA,CAAA,GAAA,EAAU,EAAC,CAAC,KAAA,CAAA,UAAA,CAAA,KAAsB,CAAC,CAAA,CAAE,EAAC,EAAA,CAAA;AACtC,KAAA,CAAA,IAAA,EAAW,EAAC,CAAC,KAAA,CAAA,WAAA,CAAA,KAAuB,CAAC,CAAA,CAAE,EAAC,EAAA,CAAA;AACxC,KAAA,CAAA,MAAA,EAAa,EAAC,CAAC,KAAA,CAAA,aAAA,CAAA,KAAyB,CAAC,CAAA,CAAE,EAAC,EAAA,CAAA;AAC5C,KAAA,CAAA,KAAA,EAAY,EAAC,CAAC,KAAA,CAAA,YAAA,CAAA,KAAwB,CAAC,CAAA,CAAE,EAAC,EAAA,CAAA;AAE1C,QAAO,IAAA;AAAA;AAMR,QAAS,GAAA,CAAG,EAAA,CAAI,IAAA,CAAK,GAAA,CAAG;AACvB,IAAA,EAAI,CAAA,CAAE;AACL,KAAC,CAAC,EAAA,CAAA,CAAA,EAAM,CAAC,GAAA,CAAK,GAAA,CAAA;AAAA,GAAA,KACR;AACN,MAAA,CAAA,gBAAmB,CAAC,GAAA,CAAK,GAAA,CAAA;AAAA;AAAA;AAG3B,QAAS,IAAA,CAAI,EAAA,CAAI,IAAA,CAAK,GAAA,CAAG;AACxB,IAAA,EAAI,CAAA,CAAE;AACL,KAAC,CAAC,EAAA,CAAA,CAAA,GAAO,CAAC,GAAA,CAAK,GAAA,CAAA;AAAA,GAAA,KACT;AACN,MAAA,CAAA,mBAAsB,CAAC,GAAA,CAAK,GAAA,CAAA;AAAA;AAAA;AAO9B,QAAS,QAAA,CAAQ,IAAA,CAAM,MAAA,CAAO,KAAA,CAAK,EAAA;AAsCnC,QAAS,mBAAA,CAAmB,IAAA,CAAM,IAAA,CAAK,GAAA,CAAG;AACzC,IAAA,EAAI,CAAC,IAAA,CAAA,SAAA,CAAgB,KAAA,CAAA,SAAA,EAAiB,EAAA,CAAA;AACtC,IAAA,EAAI,CAAC,IAAA,CAAA,SAAA,CAAe,GAAA,CAAA,CAAM,KAAA,CAAA,SAAA,CAAe,GAAA,CAAA,EAAO,EAAA,CAAA;AAChD,IAAA,EAAI,IAAA,CAAA,SAAA,CAAe,GAAA,CAAA,CAAA,OAAY,CAAC,EAAA,CAAA,EAAM,EAAA,CAAG,KAAA,CAAA,SAAA,CAAe,GAAA,CAAA,CAAA,IAAS,CAAC,EAAA,CAAA;AAAA;AAKnE,QAAS,QAAA,CAAQ,CAAA,CAAG,IAAA,CAAK,IAAA,CAAI;AAC5B,QAAO,KAAA,CAAA,GAAQ,CAAC,IAAA,CAAA,GAAQ,CAAC,CAAA,CAAE,IAAA,CAAA,CAAK,IAAA,CAAA;AAAA;AAGjC,QAAS,QAAA,CAAQ,CAAA,CAAE;AAClB,GAAA,CAAA,cAAgB,CAAA,CAAA;AAAA;AAIjB,QAAS,eAAA,CAAe,GAAA,CAAI;AAC3B,IAAA,EAAI,GAAA,IAAQ,OAAA,CAAQ;AACnB,UAAO,KAAA;AAAA,GAAA,KACD,GAAA,EAAI,GAAA,IAAQ,QAAA,CAAS;AAC3B,UAAO,MAAA;AAAA,GAAA,KACD,GAAA,EAAI,CAAC,KAAK,CAAC,CAAA,EAAI,WAAU,CAAC,GAAA,CAAA,CAAA,CAAO;AACvC,UAAO,EAAA;AAAA,GAAA,KACD;AACN,UAAO,IAAA;AAAA;AAAA;AAIL,GAAA,UAAA,EAAY,gBAAe,CAAA,CAAA;ACpK3B,uBCQJ,SAAM,kBAAA,CAMQ,EAAA,CAAI,KAAA,CAAK;;AAErB,IAAA,EAAI,EAAA,WAAc,YAAA,CAAa;AAC9B,QAAA,CAAA,IAAA,EAAY,GAAA;AAAA,GAAA,KACN;AACN,MAAA,EAAI,EAAA,CAAG;AACN,UAAA,EAAO,GAAA;AAAA;AAER,QAAA,CAAA,IAAA,EAAY,SAAA,CAAA,aAAsB,CAAC,KAAA,CAAA;AAAA;AAIhC,KAAA,KAAA,EAAO,KAAA,CAAA,IAAA;AAIX,MAAA,CAAA,aAAA,EAAqB,KAAA,CAAA,SAAA;AAGrB,MAAA,CAAA,SAAA,EAAiB,KAAA,CAAA,SAAA;AAGjB,MAAA,CAAA,aAAkB,CAAC,IAAA,CAAA;AASnB,MAAA,CAAA,SAAA,CAAA,GAAkB,CAAC,UAAA,CAAA;AAEnB,MAAA,CAAA,OAAY,CAAC,QAAA,CAAA;AAEb,SAAA,CAAA,GAAW,CAAC,+BAAA,CAAA;AACZ,QAAO,KAAA;AAAA,CAAA;AClDT,CAAC,eAAA,CAAA,WAAA,CAA4B;ADqD5B,eAAA,CAAA,SAAA,CAAc,IAAA,CAAK;;AAClB,OAAA,EAAS,GAAA,IAAA,GAAO,KAAA,CAAK;AACpB,UAAA,CAAA,YAAiB,CAAC,GAAA,CAAK,KAAA,CAAK,GAAA,CAAA,CAAA;AAC5B,UAAA,CAAK,GAAA,CAAA,EAAO,KAAA,CAAK,GAAA,CAAA;AAAA;AAAA,GAAA;AAMnB,IAAA,CAAA,SAAA,CAAG,CAAC;;AACH,WAAA,CAAA,GAAW,CAAC,IAAA,CAAA;AAAA,GAAA;AAOb,cAAA,CAAA,SAAA,CAAa,CAAC;;;AAMd,IAAA,CAAA,SAAA,CAAG,GAAA,CAAK,GAAA,CAAI;;AACX,QAAA,CAAA,GAAA,CAAA,gBAAyB,CAAC,GAAA,CAAK,GAAA,CAAA;AAAA,GAAA;AAGhC,KAAA,CAAA,SAAA,CAAI,GAAA,CAAK,GAAA,CAAG;;AACX,QAAA,CAAA,GAAA,CAAA,mBAA4B,CAAC,GAAA,CAAK,GAAA,CAAA;AAAA,GAAA;AAGnC,KAAA,CAAA,SAAA,CAAI,GAAA,CAAK,GAAA,CAAG;;AACX,QAAA,CAAA,GAAA,CAAA,gBAAyB,CAAC,GAAA,CAAK,SAAA,CAAS,CAAC;AACxC,QAAE,CAAA,CAAA;AACF,UAAA,CAAA,GAAA,CAAA,mBAA4B,CAAC,GAAA,CAAK,GAAA,CAAA;AAAA,KAAA,CAAA,IAC7B,CAAC,IAAA,CAAA,CAAA;AAAA,GAAA;AAGR,SAAA,CAAA,SAAA,CAAQ,KAAA,CAAO,KAAA,CAAK;;AAMf,OAAA,MAAA,EAAQ,IAAI,YAAW,CAAC,KAAA,CAAO,KAAA,CAAA;AACnC,MAAA,EAAI,IAAA,CAAK,IAAA,EAAO,MAAA,CAAA,CAAQ,KAAA,CAAK,IAAA,EAAO,MAAA,CAAA,CAAA,KAAY,CAAC,IAAA,CAAM,MAAA,CAAA;AACvD,QAAA,CAAA,aAAkB,CAAC,KAAA,CAAA;AAAA,GAAA;AAKpB,QAAA,CAAA,SAAA,CAAQ,CAAC;;;AAIT,SAAA,CAAA,SAAA,CAAS,CAAC;;;MApGqB,YAAA,CAAA;ADR5B,UGCJ,SAAM,KAAA,CAEO,EAAA,CAAI,KAAA,CAAK;;AAChB,KAAA,KAAA,ECJN,gBAAA,CAAA,SAAyB,wCDIN,EAAA,CAAI,KAAA,CAAA,CAAA;AAMrB,MAAA,CAAA,OAAA,EAAe,EAAA,CAAA;AACX,KAAA,SAAA,EAAW,KAAA,CAAA,gBAAqB,CAAC,eAAA,CAAA;AACpC,OAAA,EAAI,SAAA,CAAA,MAAA;AACJ,UAAA,EAAO,EAAA;AAGR,IAAA,EAAI,CAAA,EAAI,EAAA,CAAE;AACT,OAAA,EAAS,GAAA,EAAA,EAAI,EAAA,CAAG,EAAA,EAAE,EAAA,CAAG,EAAA,EAAA,CAAI;AACxB,UAAA,CAAA,SAAc,CAAC,QAAA,CAAA,IAAa,CAAC,CAAA,CAAA,CAAA;AAAA;AAAA;AAK3B,KAAA,KAAA,EAAO,EAAA;AACX,KAAA,EAAS,GAAA,EAAA,EAAI,EAAA,CAAG,EAAA,EAAI,KAAA,CAAM,EAAA,EAAA,CAAI;AACzB,OAAA,GAAA,EAAK,SAAA,CAAA,aAAsB,CAAC,KAAA,CAAA;AAChC,QAAA,CAAA,SAAc,CAAC,EAAA,CAAI,EAAA,CAAA,OAAA,CAAU,CAAA,CAAA,CAAA;AAAA;AAI9B,MAAA,CAAA,SAAA,EAAiB;AAChB,SAAA,CAAM,EAAA;AACN,SAAA,CAAM,EAAA;AACN,KAAA,CAAG,EAAA;AACH,KAAA,CAAG,EAAA;AACH,QAAA,CAAM,EAAA;AACN,QAAA,CAAM,EAAA;AACN,WAAA,CAAS,EAAA;AACT,WAAA,CAAS,EAAA;AACT,OAAA,CAAK,EAAA,CAAA;AACL,QAAA,CAAM,KAAA;AACN,UAAA,CAAQ,MAAA;AACR,UAAA,CAAQ;AAAA,GAAA;AAGT,MAAA,CAAA,aAAkB,CAAA,CAAA;AAElB,MAAA,CAAA,OAAA,EAAe;AAId,YAAA,CAAU,MAAA;AACV,eAAA,CAAa,KAAA;AAGb,aAAA,CAAW,WAAA;AAGX,UAAA,CAAQ,KAAA;AACR,aAAA,CAAW,KAAA;AACX,QAAA,CAAM,KAAA;AACN,YAAA,CAAU,KAAA;AACV,WAAA,CAAS,KAAA;AACT,UAAA,CAAQ;AAAA,GAAA;AAKT,QAAO,KAAA;AAAA,CAAA;AEpEL;AHAJ,CAAC,eAAA,CAAA,WAAA,CAA4B;ACyE5B,aAAA,CAAA,SAAA,CAAY,CAAC;;AACZ,QAAA,CAAA,SAAA,EAAiB,aAAY,CAAC,IAAA,CAAA;AAC9B,QAAA,CAAA,UAAA,EAAkB,cAAa,CAAC,IAAA,CAAA;AAAA,GAAA;AAIjC,WAAA,CAAA,SAAA,CAAU,EAAA,CAAG;;AAEZ,QAAA,CAAA,OAAA,CAAA,IAAiB,CAAC,GAAI,OAAM,CAAC,EAAA,CAAI,KAAA,CAAA,CAAA;AAAA,GAAA;AAGlC,eAAA,CAAA,SAAA,CAAc,CAAC;;AACV,OAAA,EAAA,EAAI,KAAA,CAAA,OAAA;AACP,YAAA,EAAO,KAAA;AAGR,QAAA,CAAA,UAAA,EAAkB,KAAA,CAAA,UAAA,CAAA,IAAoB,CAAC,IAAA,CAAA;AACvC,QAAA,CAAA,KAAA,EAAa,KAAA,CAAA,KAAA,CAAA,IAAe,CAAC,IAAA,CAAA;AAC7B,QAAA,CAAA,SAAA,EAAiB,KAAA,CAAA,SAAA,CAAA,IAAmB,CAAC,IAAA,CAAA;AAErC,QAAA,CAAA,gBAAqB,CAAC,WAAA,CAAa,KAAA,CAAA,UAAA,CAAA;AAEnC,MAAE,CAAC,MAAA,CAAQ,SAAA,CAAU,SAAA,CAAS,CAAC;AAC9B,UAAA,CAAA,YAAiB,CAAA,CAAA;AACjB,UAAA,CAAA,aAAkB,CAAA,CAAA;AAAA,KAAA,CAAA;AAAA,GAAA;AAIpB,YAAA,CAAA,SAAA,CAAW,CAAA,CAAE;;AACR,OAAA,EAAA,EAAI,KAAA,CAAA,OAAA;AAER,QAAA,CAAA,YAAiB,CAAA,CAAA;AAGjB,QAAA,CAAA,SAAA,CAAA,CAAA,EAAmB,EAAA,CAAA,OAAA,EAAY,KAAA,CAAA,SAAA,CAAA,IAAA;AAC/B,QAAA,CAAA,SAAA,CAAA,CAAA,EAAmB,EAAA,CAAA,OAAA,EAAY,KAAA,CAAA,SAAA,CAAA,GAAA;AAC/B,QAAA,CAAA,SAAA,CAAA,OAAA,EAAyB,EAAA,CAAA,OAAA;AACzB,QAAA,CAAA,SAAA,CAAA,OAAA,EAAyB,EAAA,CAAA,OAAA;AACzB,QAAA,CAAA,SAAA,CAAA,MAAA,EAAwB,KAAA,CAAA,iBAAsB,CAAC,IAAA,CAAA,SAAA,CAAA,CAAA,CAAkB,KAAA,CAAA,SAAA,CAAA,CAAA,CAAA;AAGjE,QAAA,CAAA,SAAA,CAAA,GAAA,CAAA,GAAA,EAAyB,KAAA,CAAA,SAAA,CAAA,GAAA,EAAqB,KAAA,CAAA,UAAA,CAAA,GAAA;AAC9C,QAAA,CAAA,SAAA,CAAA,GAAA,CAAA,IAAA,EAA0B,KAAA,CAAA,SAAA,CAAA,IAAA,EAAsB,KAAA,CAAA,UAAA,CAAA,IAAA;AAChD,QAAA,CAAA,SAAA,CAAA,GAAA,CAAA,KAAA,EAA2B,KAAA,CAAA,SAAA,CAAA,KAAA,EAAuB,KAAA,CAAA,UAAA,CAAA,KAAA;AAClD,QAAA,CAAA,SAAA,CAAA,GAAA,CAAA,MAAA,EAA4B,KAAA,CAAA,SAAA,CAAA,MAAA,EAAwB,KAAA,CAAA,UAAA,CAAA,MAAA;AACpD,QAAA,CAAA,SAAA,CAAA,GAAA,CAAA,KAAA,EAA2B,KAAA,CAAA,SAAA,CAAA,KAAA,EAAuB,KAAA,CAAA,UAAA,CAAA,IAAA,EAAuB,KAAA,CAAA,UAAA,CAAA,KAAA;AACzE,QAAA,CAAA,SAAA,CAAA,GAAA,CAAA,MAAA,EAA4B,KAAA,CAAA,SAAA,CAAA,MAAA,EAAwB,KAAA,CAAA,UAAA,CAAA,GAAA,EAAsB,KAAA,CAAA,UAAA,CAAA,MAAA;AAG1E,QAAA,CAAA,iBAAsB,CAAC,IAAA,CAAA,SAAA,CAAgB,EAAA,CAAA;AAEvC,QAAA,CAAA,SAAA,CAAA,GAAkB,CAAC,IAAA,CAAA,OAAA,CAAA,SAAA,CAAA;AAEnB,QAAA,CAAA,SAAA,CAAA,MAAA,CAAA,SAA+B,CAAC,IAAA,CAAA,SAAA,CAAA;AAMhC,MAAE,CAAC,QAAA,CAAU,cAAA,CAAe,QAAA,CAAA;AAC5B,MAAE,CAAC,QAAA,CAAU,YAAA,CAAa,KAAA,CAAA,KAAA,CAAA;AAC1B,MAAE,CAAC,QAAA,CAAU,UAAA,CAAW,KAAA,CAAA,SAAA,CAAA;AACxB,MAAE,CAAC,QAAA,CAAU,aAAA,CAAc,KAAA,CAAA,SAAA,CAAA;AAAA,GAAA;AAG5B,OAAA,CAAA,SAAA,CAAM,CAAA,CAAE;;AAEH,OAAA,EAAA,EAAI,KAAA,CAAA,OAAA;AAER,QAAA,CAAA,iBAAsB,CAAC,IAAA,CAAA,SAAA,CAAgB,EAAA,CAAA;AAEvC,QAAA,CAAA,SAAA,CAAA,MAAA,CAAA,IAA0B,CAAC,IAAA,CAAA,SAAA,CAAA;AAAA,GAAA;AAK5B,WAAA,CAAA,SAAA,CAAU,CAAA,CAAE;;AACX,QAAA,CAAA,KAAU,CAAC,CAAA,CAAA;AAEX,QAAA,CAAA,SAAA,CAAA,MAAA,CAAA,QAA8B,CAAC,IAAA,CAAA,SAAA,CAAA;AAK/B,QAAA,CAAA,SAAA,CAAA,MAAqB,CAAC,IAAA,CAAA,OAAA,CAAA,SAAA,CAAA;AAGtB,OAAG,CAAC,QAAA,CAAS,cAAA,CAAe,KAAA,CAAA,QAAA,CAAA;AAC5B,OAAG,CAAC,QAAA,CAAS,YAAA,CAAa,KAAA,CAAA,KAAA,CAAA;AAC1B,OAAG,CAAC,QAAA,CAAS,UAAA,CAAW,KAAA,CAAA,SAAA,CAAA;AACxB,OAAG,CAAC,QAAA,CAAS,aAAA,CAAc,KAAA,CAAA,SAAA,CAAA;AAAA,GAAA;AAI5B,mBAAA,CAAA,SAAA,CAAkB,CAAA,CAAG,EAAA,CAAE;;AAClB,OAAA,KAAA,EAAO,KAAA;AAAM,qBAAA;AACjB,OAAA,EAAS,GAAA,EAAA,EAAI,EAAA,CAAG,EAAA,EAAI,KAAA,CAAA,OAAA,CAAA,MAAA,CAAqB,EAAA,EAAA,CAAI;AACxC,SAAA,OAAA,EAAS,KAAA,CAAA,OAAA,CAAa,CAAA,CAAA;AACzB,WAAA,EAAI,EAAA,EAAI,OAAA,CAAA,CAAA;AACR,WAAA,EAAI,EAAA,EAAI,OAAA,CAAA,CAAA;AACR,WAAA,EAAI,KAAA,CAAA,IAAS,CAAC,CAAA,EAAE,EAAA,EAAI,EAAA,EAAE,EAAA,CAAA;AAEvB,QAAA,EAAI,CAAA,EAAI,KAAA,CAAK;AACZ,YAAA,EAAO,EAAA;AACP,qBAAA,EAAgB,EAAA;AAAA;AAAA;AAGlB,UAAO,KAAA,CAAA,OAAA,CAAa,aAAA,CAAA;AAAA,GAAA;AAIrB,eAAA,CAAA,SAAA,CAAc,CAAC;;AACd,OAAA,EAAS,GAAA,EAAA,EAAI,EAAA,CAAG,EAAA,EAAI,KAAA,CAAA,OAAA,CAAA,MAAA,CAAqB,EAAA,EAAA,CAAI,EAAA;AAAA,GAAA;AAM9C,cAAA,CAAA,SAAA,CAAa,CAAC;;AACb,QAAA,CAAA,SAAA,EAAiB,aAAY,CAAC,IAAA,CAAA;AAC9B,QAAA,CAAA,UAAA,EAAkB,cAAa,CAAC,IAAA,CAAA;AAAA,GAAA;AAIjC,mBAAA,CAAA,SAAA,CAAkB,SAAA,CAAW,EAAA,CAAE;;AAC9B,aAAA,CAAA,MAAA,EAAmB,EAAA,CAAA,OAAA;AACnB,aAAA,CAAA,IAAA,EAAiB,EAAA,CAAA,OAAA,EAAY,UAAA,CAAA,OAAA;AAC7B,aAAA,CAAA,IAAA,EAAiB,EAAA,CAAA,OAAA,EAAY,UAAA,CAAA,OAAA;AAC7B,MAAA,EAAI,CAAA,CAAA,OAAA,CAAW;AACd,eAAA,CAAA,IAAA,GAAkB,KAAA,CAAA,OAAA,CAAA,WAAA;AAClB,eAAA,CAAA,IAAA,GAAkB,KAAA,CAAA,OAAA,CAAA,WAAA;AAAA;AAEnB,aAAA,CAAA,CAAA,GAAe,UAAA,CAAA,IAAA;AACf,aAAA,CAAA,CAAA,GAAe,UAAA,CAAA,IAAA;AACf,aAAA,CAAA,OAAA,EAAoB,EAAA,CAAA,OAAA;AACpB,aAAA,CAAA,OAAA,EAAoB,EAAA,CAAA,OAAA;AAAA;AAAA,CAAA,KA/MH,kBAAA,CAAA;AHDf,YMOJ,SAAM,OAAA,CACO,EAAA,CAAI,KAAA,CAAM,KAAA,CAAK;;AACtB,KAAA,KAAA,EFTN,gBAAA,CAAA,SAAyB,0CESN,EAAA,CAAI,KAAA,CAAA,CAAA;AAGrB,MAAA,CAAA,IAAA,EAAY,KAAA;AAmBZ,MAAA,CAAA,CAAA,EAAS,EAAA;AACT,MAAA,CAAA,CAAA,EAAS,EAAA;AAET,MAAA,CAAA,SAAA,EAAiB,aAAY,CAAC,IAAA,CAAA;AAG9B,MAAA,CAAA,IAAA,EAAY,KAAA,CAAA,IAAA,CAAA,IAAc,CAAC,IAAA,CAAA;AAC3B,MAAA,CAAA,SAAA,EAAiB,KAAA,CAAA,SAAA,CAAA,IAAmB,CAAC,IAAA,CAAA;AACrC,MAAA,CAAA,QAAA,EAAgB,KAAA,CAAA,QAAA,CAAA,IAAkB,CAAC,IAAA,CAAA;AAGnC,QAAO,KAAA;AAAA,CAAA;AD1CL;AHAJ,CAAC,eAAA,CAAA,WAAA,CAA4B;AI0D5B,eAAA,CAAA,SAAA,CAAc,CAAC;;AACd,QAAA,CAAA,IAAA,CAAA,gBAA0B,CAAC,WAAA,CAAa,KAAA,CAAA,SAAA,CAAA;AACxC,QAAA,CAAA,IAAA,CAAA,gBAA0B,CAAC,QAAA,CAAU,KAAA,CAAA,MAAA,CAAA;AACrC,QAAA,CAAA,SAAA,EAAiB,aAAY,CAAC,IAAA,CAAA;AAAA,GAAA;AAI/B,cAAA,CAAA,SAAA,CAAa,CAAC;;AACb,QAAA,CAAA,IAAA,CAAA,mBAA6B,CAAC,WAAA,CAAa,KAAA,CAAA,SAAA,CAAA;AAC3C,QAAA,CAAA,IAAA,CAAA,mBAA6B,CAAC,QAAA,CAAU,KAAA,CAAA,MAAA,CAAA;AAAA,GAAA;AAIzC,WAAA,CAAA,SAAA,CAAU,KAAA,CAAM;;AAEf,QAAA,CAAA,WAAA,EAAmB,KAAA,CAAA,SAAA,CAAA,IAAA,EAAsB,MAAA,CAAA,CAAA;AACzC,QAAA,CAAA,WAAA,EAAmB,KAAA,CAAA,SAAA,CAAA,GAAA,EAAqB,MAAA,CAAA,CAAA;AACxC,QAAA,CAAA,SAAA,EAAiB,aAAY,CAAC,IAAA,CAAA;AAAA,GAAA;AAS/B,MAAA,CAAA,SAAA,CAAK,KAAA,CAAM;;AACN,OAAA,EAAA,EAAI,QAAO,CAAC,KAAA,CAAA,CAAA,EAAU,KAAA,CAAA,WAAA,CAAkB,EAAA,CAAG,MAAA,CAAA,GAAA,CAAA,KAAA,EAAkB,KAAA,CAAA,SAAA,CAAA,KAAA,CAAA;AAC7D,OAAA,EAAA,EAAI,QAAO,CAAC,KAAA,CAAA,CAAA,EAAU,KAAA,CAAA,WAAA,CAAkB,EAAA,CAAG,MAAA,CAAA,GAAA,CAAA,MAAA,EAAmB,KAAA,CAAA,SAAA,CAAA,MAAA,CAAA;AAElE,WAAO,CAAC,IAAA,CAAM,SAAA,CAAU,EAAC,CAAA,CAAE,EAAA,CAAA,CAAA;AAC3B,QAAA,CAAA,IAAS,CAAC,CAAA,CAAG,EAAA,CAAA;AAAA,GAAA;AAGd,UAAA,CAAA,SAAA,CAAS,CAAC;;;AAKV,MAAA,CAAA,SAAA,CAAK,CAAA,CAAG,EAAA,CAAG,GAAA,CAAI,GAAA,CAAG;;AAGjB,QAAA,CAAA,KAAA,CAAW,SAAA,EAAY,YAAA,CAAA,EAAe,EAAC,cAAA,CAAgB,EAAA,CAAG,MAAA,CAAO,EAAA,CAAG,SAAA,CAAA,CAAA,IAAc,CAAC,EAAA,CAAA;AAAA,GAAA;AAIpF,kBAAA,CAAA,SAAA,CAAiB,GAAA,CAAK,GAAA,CAAG;;AACxB,sBAAkB,CAAC,IAAA,CAAM,IAAA,CAAK,GAAA,CAAA;AAAA,GAAA;AAI/B,YAAA,CAAA,SAAA,CAAW,CAAA,CAAG,EAAA,CAAE;;AACX,OAAA,EAAA,EAAI,KAAA,CAAA,OAAA;AACP,SAAA,EAAI,EAAA;AAIL,KAAA,EAAI,KAAA,CAAA,MAAW,CAAA,CAAA;AAGf,UAAO,KAAA,CAAA,gBAAqB,CAAC,CAAA,CAAG,KAAA,CAAA;AAAA,GAAA;AAKjC,kBAAA,CAAA,SAAA,CAAiB,KAAA,CAAM;;AAClB,OAAA,EAAA,EAAI,EAAA,CAAA;AAAI,SAAA,EAAI,KAAA,CAAA,OAAA;AAChB,OAAA,EAAS,GAAA,EAAA,EAAI,EAAA,CAAG,EAAA,EAAI,KAAA,CAAA,UAAA,CAAiB,EAAA,EAAA,CAAI;AACpC,SAAA,IAAA,EAAM,EAAA,CAAA,GAAA,CAAM,CAAA,CAAA;AACf,aAAA,EAAM,EAAA,CAAA,GAAA,CAAM,CAAA,CAAA;AACb,OAAA,CAAE,CAAA,CAAA,EAAK,EAAC,KAAA,CAAM,CAAA,CAAA,EAAK,IAAA,CAAA,EAAO,EAAC,GAAA,EAAM,IAAA,CAAA;AAAA;AAElC,UAAO,EAAA;AAAA,GAAA;AAIR,kBAAA,CAAA,SAAA,CAAiB,CAAA,CAAE;;AACd,OAAA,EAAA,EAAI,EAAA,CAAA;AACP,SAAA,EAAI,KAAA,CAAA,OAAA;AACL,OAAA,EAAS,GAAA,EAAA,EAAI,EAAA,CAAG,EAAA,EAAI,KAAA,CAAA,UAAA,CAAiB,EAAA,EAAA,CAAI;AACpC,SAAA,IAAA,EAAM,EAAA,CAAA,GAAA,CAAM,CAAA,CAAA;AACf,aAAA,EAAM,EAAA,CAAA,GAAA,CAAM,CAAA,CAAA;AACb,OAAA,CAAE,CAAA,CAAA,EAAK,EAAA,CAAE,CAAA,CAAA,EAAK,EAAC,GAAA,EAAM,IAAA,CAAA,EAAO,EAAC,GAAA,CAAA;AAAA;AAE9B,UAAO,EAAA;AAAA,GAAA;AAOR,QAAA,CAAA,SAAA,CAAO,CAAC;;AACH,OAAA,EAAA,EAAI,EAAA,CAAA;AACP,SAAA,EAAI,KAAA,CAAA,OAAA;AACJ,YAAA,EAAO,KAAA,CAAA,IAAA;AACR,OAAA,EAAS,GAAA,EAAA,EAAI,EAAA,CAAG,EAAA,EAAI,KAAA,CAAA,UAAA,CAAiB,EAAA,EAAA,CAAI;AACpC,SAAA,UAAA,EAAY,EAAA,CAAA,SAAA,CAAY,CAAA,CAAA;AAC5B,YAAA,EAAO,CAAA,CAAA,SAAA,CAAY,CAAA,CAAA,CAAA;AAClB,YAAK,MAAA;AACJ,WAAA,CAAE,CAAA,CAAA,EAAK,EAAC,CAAA,EAAI,KAAA,CAAA,GAAA,EAAW,KAAA,CAAA,MAAA,CAAA;AACvB,eAAA;AACD,YAAK,SAAA;AACJ,WAAA,CAAE,CAAA,CAAA,EAAK,EAAC,IAAA,CAAA,GAAA,EAAW,KAAA,CAAA,MAAA,CAAA;AACnB,eAAA;AACD,YAAK,OAAA;AACJ,WAAA,CAAE,CAAA,CAAA,EAAK,EAAC,CAAA,EAAI,KAAA,CAAA,IAAA,EAAY,KAAA,CAAA,KAAA,CAAA;AACxB,eAAA;AACD,YAAK,QAAA;AACJ,WAAA,CAAE,CAAA,CAAA,EAAK,EAAC,IAAA,CAAA,IAAA,EAAY,KAAA,CAAA,KAAA,CAAA;AACpB,eAAA;AACD,eAAA;AAAA;AAAA;AAIF,UAAO,EAAA;AAAA,GAAA;AAER,UAAA,CAAA,SAAA,CAAS,CAAA,CAAE;;AACN,OAAA,EAAA,EAAI,KAAA,CAAA,OAAA;AAER,OAAA,EAAS,GAAA,EAAA,EAAI,EAAA,CAAG,EAAA,EAAI,KAAA,CAAA,UAAA,CAAiB,EAAA,EAAA,CAAI;AACpC,SAAA,UAAA,EAAY,EAAA,CAAA,SAAA,CAAY,CAAA,CAAA;AAC5B,YAAA,EAAQ,SAAA,CAAU,CAAA,CAAA,CAAA;AACjB,YAAK,MAAA;AACJ,cAAA,CAAA,GAAA,EAAW,KAAA,CAAA,KAAU,CAAC,CAAC,CAAA,EAAE,EAAA,CAAE,CAAA,CAAA,CAAA,EAAM,KAAA,CAAA,IAAA,CAAA,MAAA,CAAA;AACjC,eAAA;AACD,YAAK,SAAA;AACJ,cAAA,CAAA,GAAA,EAAW,KAAA,CAAA,KAAU,CAAC,CAAA,CAAE,CAAA,CAAA,EAAK,KAAA,CAAA,IAAA,CAAA,MAAA,CAAA;AAC7B,eAAA;AACD,YAAK,QAAA;AACJ,cAAA,CAAA,IAAA,EAAY,KAAA,CAAA,KAAU,CAAC,CAAC,CAAA,CAAE,CAAA,CAAA,CAAA,EAAM,KAAA,CAAA,IAAA,CAAA,KAAA,CAAA;AAChC,eAAA;AACD,YAAK,OAAA;AACJ,cAAA,CAAA,IAAA,EAAY,KAAA,CAAA,KAAU,CAAC,CAAC,CAAA,EAAE,EAAA,CAAE,CAAA,CAAA,CAAA,EAAM,KAAA,CAAA,IAAA,CAAA,KAAA,CAAA;AAClC,eAAA;AAAA;AAAA;AAAA;AAAA,CAAA,KAxLgB,kBAAA,CAAA","sourcesContent":["\r\n//#exclude\r\n\tvar pluginName = \"slidy\", $\r\n//#endexclude\r\n//#put `var pluginName = {{ pluginName }}`\r\n\r\n//----------------Utils\r\nfunction extend(a){\r\n\tfor (var i = 1, l = arguments.length; i<l; i++){\r\n\t\tvar b = arguments[i];\r\n\t\tfor (var k in b){\r\n\t\t\ta[k] = b[k];\r\n\t\t}\r\n\t}\r\n\treturn a;\r\n}\r\n\r\n//stupid prefix detector\r\nfunction detectCSSPrefix(){\r\n\tvar puppet = document.documentElement;\r\n\tvar style = document.defaultView.getComputedStyle(puppet, \"\");\r\n\tif (style.transform) return \"\";\r\n\tif (style[\"-webkit-transform\"]) return \"-webkit-\";\r\n\tif (style[\"-moz-transform\"]) return \"-moz-\";\r\n\tif (style[\"-o-transform\"]) return \"-o-\";\r\n\tif (style[\"-khtml-transform\"]) return \"-khtml-\";\r\n\treturn \"\";\r\n}\r\n\r\n//simple math limiter\r\nfunction limit(v, min, max){\r\n\treturn Math.max(min, Math.min(max, v));\r\n}\r\n\r\n//attr parser\r\nfunction parseDataAttributes(el, multiple) {\r\n\tvar data = {}, v;\r\n\tfor (var prop in el.dataset){\r\n\t\tvar v;\r\n\t\tif (multiple) {\r\n\t\t\tv = el.dataset[prop].split(\",\");\r\n\t\t\tfor (var i = v.length; i--;){\r\n\t\t\t\tv[i] = recognizeValue(v[i].trim());\r\n\t\t\t\tif (v[i] === \"\") v[i] = null;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tv = recognizeValue(el.dataset[prop]);\r\n\t\t\tif (v === \"\") v[i] = true;\r\n\t\t}\r\n\r\n\t\tdata[prop] = v;\r\n\t}\r\n\treturn data;\r\n}\r\n\r\n//\r\nfunction getOffsetBox($el){\r\n\tvar box = $el.getBoundingClientRect();\r\n\tbox.height= $el.offsetHeight; //this.el.clientHeight;\r\n\tbox.width= $el.offsetWidth; //this.el.clientWidth;\r\n\tbox.center= [box.width * 0.5, box.height * 0.5];\r\n\treturn box;\r\n}\r\n\r\nfunction getPaddingBox($el){\r\n\tvar box = {},\r\n\t\tstyle = getComputedStyle($el);\r\n\r\n\tbox.top = ~~style.paddingTop.slice(0,-2)\r\n\tbox.left = ~~style.paddingLeft.slice(0,-2)\r\n\tbox.bottom = ~~style.paddingBottom.slice(0,-2)\r\n\tbox.right = ~~style.paddingRight.slice(0,-2)\r\n\r\n\treturn box;\r\n}\r\n\r\n/**\r\n* Simple event methods\r\n*/\r\nfunction on(el, evt, fn){\r\n\tif ($){\r\n\t\t$(el).on(evt, fn);\r\n\t} else {\r\n\t\tel.addEventListener(evt, fn)\r\n\t}\r\n}\r\nfunction off(el, evt, fn){\r\n\tif ($){\r\n\t\t$(el).off(evt, fn);\r\n\t} else {\r\n\t\tel.removeEventListener(evt, fn)\r\n\t}\r\n}\r\n/**\r\n* Broadcasts event: \"slidy:evt\" → $doc, \"slidy:evt\" → $el, evt → area.opts\r\n* target - whether area or picker class\r\n*/\r\nfunction trigger(that, ename, data){\r\n\t//TODO: pass data to trigger events\r\n\t/*var prefixedEvt = [pluginName, \":\", evt].join('');\r\n\tif ($){\r\n\t\t$(that.$el).trigger(prefixedEvt);\r\n\t} else {\r\n\t\t//that.$el.dispatchEvent(new CustomEvent(prefixedEvt))\r\n\t}\r\n\tif (that.options && that.options[evt]){\r\n\t\tthat.options[evt].call(that, data);\r\n\t}\r\n\r\n\tvar event;\r\n\tif(document.createEvent){\r\n\t\tevent = document.createEvent('HTMLEvents');\r\n\t\tevent.initEvent(ename,true,true);\r\n\t}else if(document.createEventObject){// IE < 9\r\n\t\tevent = document.createEventObject();\r\n\t\tevent.eventType = ename;\r\n\t}\r\n\tevent.eventName = ename;\r\n\tif(target.dispatchEvent){\r\n\t\ttarget.dispatchEvent(event);\r\n\t}else if(target.fireEvent && htmlEvents['on'+eventName]){// IE < 9\r\n\t\ttarget.fireEvent('on'+event.eventType,event);// can trigger only real event (e.g. 'click')\r\n\t}else if(el[eventName]){\r\n\t\tel[eventName]();\r\n\t}else if(el['on'+eventName]){\r\n\t\tel['on'+eventName]();\r\n\t}*/\r\n\r\n\r\n\r\n}\r\n\r\n/**\r\n* Versatile event listener\r\n*/\r\nfunction addEventListenerTo(that, evt, fn){\r\n\tif (!that.listeners) that.listeners = [];\r\n\tif (!that.listeners[evt]) that.listeners[evt] = [];\r\n\tif (that.listeners[evt].indexOf(fn) < 0) that.listeners[evt].push(fn);\r\n\r\n}\r\n\r\n\r\nfunction between(a, min, max){\r\n\treturn Math.max(Math.min(a,max),min);\r\n}\r\n\r\nfunction prevent(e){\r\n\te.preventDefault();\r\n}\r\n\r\n//returns value from string with correct type\r\nfunction recognizeValue(str){\r\n\tif (str === \"true\") {\r\n\t\treturn true;\r\n\t} else if (str === \"false\") {\r\n\t\treturn false;\r\n\t} else if (!isNaN(v = parseFloat(str))) {\r\n\t\treturn v;\r\n\t} else {\r\n\t\treturn str;\r\n\t}\r\n}\r\n\r\nvar cssPrefix = detectCSSPrefix();","var $__placeholder__0 = $__placeholder__1","/**\r\n* Controller on the elements\r\n* Very similar to native elements\r\n*/\r\n\r\n\r\n\r\n\r\nclass HTMLCustomElement extends HTMLElement {\r\n\t/**\r\n\t* Uses hack to extend native HTMLElement: swizzles element’s __proto__\r\n\t* It’s the only place where `this` isn’t actually an element.\r\n\t* All other methods use `this` as element reference\r\n\t*/\r\n\tconstructor (el, opts){\r\n\t\t//TODO: get rid of that hack when native `extends HTMLElement` will work\r\n\t\tif (el instanceof HTMLElement) {\r\n\t\t\tthis.self = el;\r\n\t\t} else {\r\n\t\t\tif (el){\r\n\t\t\t\topts = el;\r\n\t\t\t}\r\n\t\t\tthis.self = document.createElement('div');\r\n\t\t}\r\n\r\n\t\t//make `self` element, forget about `this`\r\n\t\tvar self = this.self;\r\n\r\n\t\t//Intrude into el's prototype chain\r\n\t\t//save original element’s prototype, like HTMLDivElement or whatever\r\n\t\tthis.originalProto = self.__proto__;\r\n\t\t//make CustomElement as an element’s prototype\r\n\t\t//`this` loses here, from now on use `self` as `this`\r\n\t\tself.__proto__ = this.__proto__;\r\n\r\n\t\t//set options as element attributes\r\n\t\tself.setAttributes(opts);\r\n\r\n\t\t//TODO: keep track of instances\r\n\r\n\t\t//init options\r\n\t\t//self.options = extend({}, self.options, opts);\r\n\t\t//var o = self.options;\r\n\r\n\t\t//treat element\r\n\t\tself.classList.add(pluginName);\r\n\r\n\t\tself.trigger(\"create\")\r\n\t\t//console.log(self.getBoundingClientRect())\r\n\t\tconsole.log(\"HTMLCustomElement constructor\")\r\n\t\treturn self;\r\n\t}\r\n\r\n\tsetAttributes(opts){\r\n\t\tfor (var key in opts){\r\n\t\t\tthis.setAttribute(key, opts[key])\r\n\t\t\tthis[key] = opts[key]\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t//init\r\n\tok(){\r\n\t\tconsole.log(\"ok\")\r\n\t}\r\n\r\n\r\n\r\n\t//options stuff\r\n\t//TODO: bind options to the element’s attributes, rigidly, through object init (to reflect state through attributes)\r\n\tparseDataset(){\r\n\r\n\t}\r\n\r\n\r\n\t//events utils\r\n\ton(evt, fn) {\r\n\t\tthis.$el.addEventListener(evt, fn)\r\n\t}\r\n\r\n\toff(evt, fn){\r\n\t\tthis.$el.removeEventListener(evt, fn);\r\n\t}\r\n\r\n\tone(evt, fn){\r\n\t\tthis.$el.addEventListener(evt, function(){\r\n\t\t\tfn();\r\n\t\t\tthis.$el.removeEventListener(evt, fn)\r\n\t\t}.bind(this))\r\n\t}\r\n\r\n\ttrigger(eName, data){\r\n\t\t//TODO: handle jQuery-way, if there is such\r\n\t\t//TODO: pass data\r\n\t\t//TODO: ie’s work\r\n\t\t//TODO: options callbacks\r\n\t\t//trigger()\r\n\t\tvar event = new CustomEvent(eName, data)\r\n\t\tif (this['on' + eName]) this['on' + eName].apply(this, event);\r\n\t\tthis.dispatchEvent(event);\r\n\t}\r\n\r\n\r\n\t//basic behaviour\r\n\tenable (){\r\n\r\n\t}\r\n\r\n\tdisable (){\r\n\r\n\t}\r\n\r\n\r\n}","($traceurRuntime.createClass)($__placeholder__0, $__placeholder__1, $__placeholder__2,\n                                       $__placeholder__3)","/* container class */\r\nclass Area extends HTMLCustomElement{\r\n\r\n\tconstructor(el, opts){\r\n\t\tvar self = super(el, opts)\r\n\r\n\t\t//update element size\r\n\t\t//this.captureSize();\r\n\r\n\t\t//create picker(s)\r\n\t\tself.pickers = [];\r\n\t\tvar children = self.querySelectorAll(\"[data-picker]\"),\r\n\t\t\tl = children.length,\r\n\t\t\tpNum = 0;\r\n\r\n\t\t//recognize inner elements as pickers\r\n\t\tif (l > 0){\r\n\t\t\tfor (var i = 0; i<l; i++){\r\n\t\t\t\tself.addPicker(children.item(i))\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//TODO: append missing number of pickers\r\n\t\tvar pNum = 0;\r\n\t\tfor (var i = 0; i < pNum; i++){\r\n\t\t\tvar el = document.createElement(\"div\"); //TODO\r\n\t\t\tself.addPicker(el, o.pickers[i]);\r\n\t\t}\r\n\r\n\t\t//init drag state object\r\n\t\tself.dragstate = {\r\n\t\t\tinitX:0,\r\n\t\t\tinitY:0,\r\n\t\t\tx: 0,\r\n\t\t\ty: 0,\r\n\t\t\tdifX: 0,\r\n\t\t\tdifY: 0,\r\n\t\t\tclientX: 0,\r\n\t\t\tclientY: 0,\r\n\t\t\tbox: {},\r\n\t\t\tarea: self,\r\n\t\t\tisCtrl: false,\r\n\t\t\tpicker: null //current picker to drag\r\n\t\t};\r\n\r\n\t\tself._listenEvents();\r\n\r\n\t\tself.options = {\r\n\t\t\t//pickers: 1, //could be custom pickers passed, each with it’s own settings\r\n\r\n\t\t\t//shape: \"\", //triangle, circular, SVG-shape in basic case; 2d/1d is different classifier\r\n\t\t\treadonly: false, //no events\r\n\t\t\tsniperSpeed: 0.25, //sniper key slowing down amt\r\n\r\n\t\t\t//classes\r\n\t\t\tdragClass: \"dragging\",\r\n\r\n\t\t\t//callbacks\r\n\t\t\tcreate: null,\r\n\t\t\tdragstart: null,\r\n\t\t\tdrag: null,\r\n\t\t\tdragstop: null,\r\n\t\t\tdestroy: null,\r\n\t\t\tchange: null //picker callback\r\n\t\t}\r\n\r\n\t\t//TODO: make universal trigger: jquery/chrome/ie/etc compatible\r\n\t\t//self.dispatchEvent(new CustomEvent(\"create\"));\r\n\t\treturn self;\r\n\t}\r\n\r\n\r\n\t//keep that’s offsetBox updated\r\n\tcaptureSize(){\r\n\t\tself.offsetBox = getOffsetBox(self);\r\n\t\tself.paddingBox = getPaddingBox(self);\r\n\t}\r\n\r\n\t//add new picker\r\n\taddPicker(el){\r\n\t\t//prevent adding new filter\r\n\t\tthis.pickers.push(new Picker(el, this));\r\n\t}\r\n\r\n\t_listenEvents(){\r\n\t\tvar o = this.options,\r\n\t\t\tself = this;\r\n\r\n\t\t//bind cb’s to this\r\n\t\tthis._dragstart = this._dragstart.bind(this);\r\n\t\tthis._drag = this._drag.bind(this);\r\n\t\tthis._dragstop = this._dragstop.bind(this);\r\n\r\n\t\tthis.addEventListener(\"mousedown\", this._dragstart);\r\n\r\n\t\ton(window, \"resize\", function(){\r\n\t\t\tself._captureSize();\r\n\t\t\tself.updatePickers();\r\n\t\t});\r\n\t}\r\n\r\n\t_dragstart(e){\r\n\t\tvar o = this.options;\r\n\r\n\t\tthis._captureSize();\r\n\r\n\t\t//init dragstate\r\n\t\tthis.dragstate.x = e.clientX - this.offsetBox.left;\r\n\t\tthis.dragstate.y = e.clientY - this.offsetBox.top;\r\n\t\tthis.dragstate.clientX = e.clientX;\r\n\t\tthis.dragstate.clientY = e.clientY;\r\n\t\tthis.dragstate.picker = this.findClosestPicker(this.dragstate.x, this.dragstate.y);\r\n\r\n\t\t//init box\r\n\t\tthis.dragstate.box.top = this.offsetBox.top + this.paddingBox.top;\r\n\t\tthis.dragstate.box.left = this.offsetBox.left + this.paddingBox.left;\r\n\t\tthis.dragstate.box.right = this.offsetBox.right - this.paddingBox.right;\r\n\t\tthis.dragstate.box.bottom = this.offsetBox.bottom - this.paddingBox.bottom;\r\n\t\tthis.dragstate.box.width = this.offsetBox.width - this.paddingBox.left - this.paddingBox.right;\r\n\t\tthis.dragstate.box.height = this.offsetBox.height - this.paddingBox.top - this.paddingBox.bottom;\r\n\r\n\r\n\t\tthis._captureDragstate(this.dragstate, e);\r\n\r\n\t\tthis.classList.add(this.options.dragClass);\r\n\r\n\t\tthis.dragstate.picker.dragstart(this.dragstate);\r\n\t\t//this.dragstate.picker.startTracking();\r\n\t\t//this.dispatchEvent(new CustomEvent(\"dragstart\", this.dragstate))\r\n\t\t//this.dispatchEvent(new CustomEvent(\"change\", this.dragstate))\r\n\r\n\t\t//bind moving\r\n\t\ton(document, \"selectstart\", prevent);\r\n\t\ton(document, \"mousemove\", this._drag);\r\n\t\ton(document, \"mouseup\", this._dragstop);\r\n\t\ton(document, \"mouseleave\", this._dragstop);\r\n\t}\r\n\r\n\t_drag(e){\r\n\t\t//NOTE: try not finding out picker offset throught style/etc, instead, update it’s coords based on event obtained\r\n\t\tvar o = this.options;\r\n\r\n\t\tthis._captureDragstate(this.dragstate, e);\r\n\r\n\t\tthis.dragstate.picker.drag(this.dragstate);\r\n\t\t//this.dispatchEvent(new CustomEvent(\"drag\", this.dragstate))\r\n\t\t//this.dispatchEvent(new CustomEvent(\"change\", this.dragstate))\r\n\t}\r\n\r\n\t_dragstop(e){\r\n\t\tthis._drag(e);\r\n\r\n\t\tthis.dragstate.picker.dragstop(this.dragstate);\r\n\r\n\t\t//this.dispatchEvent(new CustomEvent(\"dragstop\", this.dragstate));\r\n\t\t//this.dragstate.picker.stopTracking();\r\n\r\n\t\tthis.classList.remove(this.options.dragClass);\r\n\r\n\t\t//unbind events\r\n\t\toff(document,\"selectstart\", this._prevent);\r\n\t\toff(document,\"mousemove\", this._drag);\r\n\t\toff(document,\"mouseup\", this._dragstop);\r\n\t\toff(document,\"mouseleave\", this._dragstop);\r\n\t}\r\n\r\n\t//get picker closest to the passed coords\r\n\tfindClosestPicker(x, y){\r\n\t\tvar minL = 9999, closestPicker;\r\n\t\tfor (var i = 0; i < this.pickers.length; i++){\r\n\t\t\tvar picker = this.pickers[i],\r\n\t\t\t\tw = x - picker.x,\r\n\t\t\t\th = y - picker.y,\r\n\t\t\t\tl = Math.sqrt(w*w + h*h);\r\n\r\n\t\t\tif (l < minL){\r\n\t\t\t\tminL = l;\r\n\t\t\t\tclosestPicker = i;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this.pickers[closestPicker];\r\n\t}\r\n\r\n\t//set pickers reflect their’s real values\r\n\tupdatePickers(){\r\n\t\tfor (var i = 0; i < this.pickers.length; i++){\r\n\t\t\t//this.pickers[i].update();\r\n\t\t}\r\n\t}\r\n\r\n\t//keep that’s offsetBox updated\r\n\t_captureSize(){\r\n\t\tthis.offsetBox = getOffsetBox(this);\r\n\t\tthis.paddingBox = getPaddingBox(this);\r\n\t}\r\n\r\n\t//updates dragstate based on event\r\n\t_captureDragstate(dragstate, e){\r\n\t\tdragstate.isCtrl = e.ctrlKey;\r\n\t\tdragstate.difX = e.clientX - dragstate.clientX;\r\n\t\tdragstate.difY = e.clientY - dragstate.clientY;\r\n\t\tif (e.ctrlKey) {\r\n\t\t\tdragstate.difX *= this.options.sniperSpeed;\r\n\t\t\tdragstate.difY *= this.options.sniperSpeed;\r\n\t\t}\r\n\t\tdragstate.x += dragstate.difX;\r\n\t\tdragstate.y += dragstate.difY;\r\n\t\tdragstate.clientX = e.clientX;\r\n\t\tdragstate.clientY = e.clientY;\r\n\t}\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\n/*Area.defaults = {\r\n\ttag: 'div'\r\n}\r\n\r\n\r\nArea.prototype = Object.create(HTMLElement.prototype);\r\n\r\nextend(Area.prototype, {\r\n\toptions: {\r\n\t\t//pickers: 1, //could be custom pickers passed, each with it’s own settings\r\n\r\n\t\t//shape: \"\", //triangle, circular, SVG-shape in basic case; 2d/1d is different classifier\r\n\t\treadonly: false, //no events\r\n\t\tsniperSpeed: 0.25, //sniper key slowing down amt\r\n\r\n\t\t//classes\r\n\t\tdragClass: \"dragging\",\r\n\r\n\t\t//callbacks\r\n\t\tcreate: null,\r\n\t\tdragstart: null,\r\n\t\tdrag: null,\r\n\t\tdragstop: null,\r\n\t\tdestroy: null,\r\n\t\tchange: null //picker callback\r\n\t},\r\n\r\n\r\n\r\n\r\n});*/","$traceurRuntime.superCall($__placeholder__0,\n                                                      $__placeholder__1,\n                                                      $__placeholder__2,\n                                                      $__placeholder__3)","var $__placeholder__0 = $__placeholder__1","/* Picker class - a picker controller.\r\nMoved out to the external class because of has too much own properties.\r\nNOTE: experimental class architecture:\r\n- options are kept right on the element itself, w/o options object\r\n- any option can be comma-separated list, cause picker may change matrix, not one value\r\n- that way, every function working with value should handle array on input, not the single value\r\n*/\r\nclass Picker extends HTMLCustomElement{\r\n\tconstructor(el, area, opts){\r\n\t\tvar self = super(el, opts);\r\n\r\n\t\t//TODO: detect if no area passed\r\n\t\tself.area = area;\r\n\r\n\t\t//TODO: (make initial coords centered) → move to initial coords\r\n\t\t//self.left = Math.round(self.area.center.x);\r\n\t\t//self.top = Math.round(self.area.center.y);\r\n\r\n\t\t//causes update\r\n\t\t/*Object.defineProperty(self, \"value\", {\r\n\t\t\tget: function(){return value},\r\n\t\t\tset: function(vector){\r\n\t\t\t\tvalue = vector;\r\n\t\t\t\tself.update();\r\n\t\t\t},\r\n\t\t\tenumerable: true,\r\n\t\t\tconfigurable: true\r\n\t\t})\r\n\t\tself.value = 0//o.value*/\r\n\r\n\t\t//the only value that picker keeps - self values\r\n\t\tself.x = 0//self.options.x;\r\n\t\tself.y = 0//self.options.y;\r\n\r\n\t\tself.offsetBox = getOffsetBox(self);\r\n\r\n\t\t//binder\r\n\t\tself.drag = self.drag.bind(self);\r\n\t\tself.dragstart = self.dragstart.bind(self);\r\n\t\tself.dragstop = self.dragstop.bind(self);\r\n\r\n\r\n\t\treturn self;\r\n\t}\r\n\r\n\r\n\t/*public options = {\r\n\t\tx: 0,\r\n\t\ty: 0,\r\n\t\thorizontal: true,\r\n\t\tvertical: false,\r\n\t\t//repeatX: false,\r\n\t\t//repeatY: false\r\n\t\t//snap: false, //snap value to the grid\r\n\t\t//repeat: false, //whether to rotate infinity or cycle h/v scroll\r\n\t};*/\r\n\r\n\t//begin observing area\r\n\tstartTracking(){\r\n\t\tthis.area.addEventListener(\"dragstart\", this.dragstart);\r\n\t\tthis.area.addEventListener(\"change\", this.change);\r\n\t\tthis.offsetBox = getOffsetBox(this);\r\n\t}\r\n\r\n\t//stop observing area\r\n\tstopTracking(){\r\n\t\tthis.area.removeEventListener(\"dragstart\", this.dragstart);\r\n\t\tthis.area.removeEventListener(\"change\", this.change);\r\n\t}\r\n\r\n\t//\r\n\tdragstart(state){\r\n\t\t//get offset coords within thumb\r\n\t\tthis.initOffsetX = this.offsetBox.left - state.x;\r\n\t\tthis.initOffsetY = this.offsetBox.top - state.y;\r\n\t\tthis.offsetBox = getOffsetBox(this);\r\n\r\n\t\t//if click is out of thumb - move thumb to that place\r\n\t\t//if (!isIn(state, this.offsetBox)){\r\n\r\n\t\t//}\r\n\t}\r\n\r\n\t//change tracker\r\n\tdrag(state){\r\n\t\tvar x = between(state.x - this.initOffsetX, 0, state.box.width - this.offsetBox.width);\r\n\t\tvar y = between(state.y - this.initOffsetY, 0, state.box.height - this.offsetBox.height);\r\n\r\n\t\ttrigger(this, \"change\", [x,y]);\r\n\t\tthis.move(x, y);\r\n\t}\r\n\r\n\tdragstop(){\r\n\r\n\t}\r\n\r\n\t//just move picker to the relative coords\r\n\tmove(x, y, nX, nY){\r\n\t\t//TODO: centrize picker\r\n\r\n\t\tthis.style[cssPrefix + \"transform\"] = [\"translate3d(\", x, \"px,\", y, \"px, 0)\"].join(\"\");\r\n\t}\r\n\r\n\r\n\taddEventListener(evt, fn){\r\n\t\taddEventListenerTo(this, evt, fn)\r\n\t}\r\n\r\n\t//returns value from current coords\r\n\t_calcValue(x, y){\r\n\t\tvar o = this.options,\r\n\t\t\tl = 0; //length of the value [0..1]\r\n\t\t\t//TODDO: calc multiple pickers\r\n\r\n\t\t//get normalized(not necessary) value\r\n\t\tl = this.mapToL();\r\n\r\n\t\t//apply transfer function\r\n\t\treturn this.transferLToValue(l, this);\r\n\t}\r\n\r\n\t//Transfers - transforms normalized l passed to the target value and vice-versa\r\n\t//return l from value\r\n\ttransferValueToL(value){\r\n\t\tvar l = [], o = this.options;\r\n\t\tfor (var i = 0; i < this.dimensions; i++){\r\n\t\t\tvar min = o.min[i],\r\n\t\t\t\tmax = o.max[i]\r\n\t\t\tl[i] = (value[i] - min) / (max - min);\r\n\t\t}\r\n\t\treturn l;\r\n\t}\r\n\r\n\t//return value from L\r\n\ttransferLToValue(l){\r\n\t\tvar v = [],\r\n\t\t\to = this.options;\r\n\t\tfor (var i = 0; i < this.dimensions; i++){\r\n\t\t\tvar min = o.min[i],\r\n\t\t\t\tmax = o.max[i];\r\n\t\t\tv[i] = l[i] * (max - min) + (min);\r\n\t\t}\r\n\t\treturn v;\r\n\t}\r\n\r\n\r\n\t//Transforms picker & element coordinates to l.\r\n\t//l is normalized value [0..1] reflecting picker position within the area.\r\n\t//Area can be an SVG of any shape or element\r\n\tmapToL(){\r\n\t\tvar l = [],\r\n\t\t\to = this.options,\r\n\t\t\tarea = this.area;\r\n\t\tfor (var i = 0; i < this.dimensions; i++){\r\n\t\t\tvar direction = o.direction[i];\r\n\t\t\tswitch(o.direction[i]){\r\n\t\t\t\tcase \"top\":\r\n\t\t\t\t\tl[i] = (1 - this.top / area.height);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"bottom\":\r\n\t\t\t\t\tl[i] = (this.top / area.height);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"left\":\r\n\t\t\t\t\tl[i] = (1 - this.left / area.width);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"right\":\r\n\t\t\t\t\tl[i] = (this.left / area.width);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault: //degrees case\r\n\t\t\t\t\t//TODO: calc degrees\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn l;\r\n\t}\r\n\tmapFromL(l){\r\n\t\tvar o = this.options;\r\n\r\n\t\tfor (var i = 0; i < this.dimensions; i++){\r\n\t\t\tvar direction = o.direction[i];\r\n\t\t\tswitch (direction[i]){\r\n\t\t\t\tcase \"top\":\r\n\t\t\t\t\tthis.top = Math.round((1-l[i]) * this.area.height);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"bottom\":\r\n\t\t\t\t\tthis.top = Math.round(l[i] * this.area.height);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"right\":\r\n\t\t\t\t\tthis.left = Math.round((l[i]) * this.area.width);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"left\":\r\n\t\t\t\t\tthis.left = Math.round((1-l[i]) * this.area.width);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}"]}